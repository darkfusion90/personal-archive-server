(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{129:function(e,t,a){"use strict";var n=a(236),r=a(0),c=a.n(r),o=a(249),i=a(248),l=a(477),u=a(475),s=function(e){var t=e.input,a=t.value,r=t.onChange,o=e.fieldLabel,s=e.getOptionLabel;return c.a.createElement(u.a,{id:"tags-outlined",multiple:!0,selectOnFocus:!0,clearOnBlur:!0,options:[],filterOptions:function(e,t){var a=t.inputValue,n=[];if(""!==a){var r=s?s(a):'Create tag "'.concat(a,'"');n.push({value:a.trim(),label:r})}return n},getOptionLabel:function(e){return e.label},renderInput:function(e){return c.a.createElement(i.a,Object.assign({},e,{variant:"outlined",label:o||"Create Tags",placeholder:"Tags"}))},renderTags:function(e,t){return e.map((function(e,a){return c.a.createElement(l.a,Object.assign({label:e.value},t({index:a})))}))},onChange:function(e,t,c,o){if(!Array.isArray(t))return null;if("create-option"===c||"select-option"===c){var i,l={},u=Object(n.a)(t);try{for(u.s();!(i=u.n()).done;){var s=i.value;l[s.value]=s}}catch(p){u.e(p)}finally{u.f()}r(Object.values(l))}if("remove-option"===c&&o){var m=o.option,f=a.filter((function(e){return e.value!==m.value}));r(f)}},value:a||[]})};t.a=function(e){var t=e.fieldLabel,a=e.getOptionLabel;return c.a.createElement(o.a,{name:"tags",component:s,fieldLabel:t,getOptionLabel:a})}},131:function(e,t,a){"use strict";var n=a(21),r=a(0),c=a.n(r),o=a(83);t.a=function(e){var t=e.children,a=e.formState,r=e.formId,i=Object(n.a)(e,["children","formState","formId"]);return c.a.createElement(o.a,Object.assign({form:r,type:"submit",loading:"submitting"===a},i),t)}},178:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return s}));var n=a(13),r=a.n(n),c=a(19),o=a(32),i=a(76);function l(e){var t=e.query,a=e.tags,n=e.sort,r=e.order,c={};return t&&(c.query=t),n&&(c.sort=n),r&&(c.order=r),a&&(c.tags=a),Object.keys(c).map((function(e){return"".concat(e,"=").concat(c[e])})).join("&")}var u=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a,n,c=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,o.a.get("/api/posts?".concat(l(t)));case 3:return a=e.sent,n=a.data,e.abrupt("return",n.posts.map(i.a));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/posts/".concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",Object(i.a)(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},179:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(13),r=a.n(n),c=a(19),o=a(76),i=a(32),l=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/api/posts/",t);case 2:return a=e.sent,n=a.data,e.abrupt("return",Object(o.a)(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},180:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(13),r=a.n(n),c=a(19),o=a(32),i=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.a.delete("/api/posts/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},181:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(13),r=a.n(n),c=a(19),o=a(76),i=a(32),l=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.put("/api/posts/".concat(t),a);case 2:return n=e.sent,c=n.data,e.abrupt("return",Object(o.a)(c));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},182:function(e,t){},203:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(78),r=a.n(n);function c(e){var t={};return"string"===typeof e.title&&r.a.isEmpty(e.title)&&(t.title="Title is required"),e.link&&!r.a.isEmpty(e.link.trim())&&(r.a.isURL(e.link,{require_protocol:!0})||(t.link="If provided, must be an url")),t}},216:function(e,t,a){"use strict";a(217),a(218)},217:function(e,t){},218:function(e,t){},220:function(e,t){},222:function(e,t){},223:function(e,t){},246:function(e,t,a){"use strict";var n=a(17),r=a(0),c=a.n(r),o=a(468),i=a(476),l=a(526),u=a(60),s=a(131),m=a(129),f=a(50),p=function(e){return c.a.createElement(f.a,Object.assign({},e,{variant:"outlined"}))},d=Object(o.a)((function(e){return Object(i.a)({fullHeight:{height:"100%"},header:{marginBottom:e.spacing(4)},subtitle:Object(n.a)(Object(n.a)({},e.typography.subtitle2),{},{color:e.palette.text.secondary,fontWeight:e.typography.fontWeightRegular})})}));t.a=function(e){var t=e.formId,a=e.onFormSubmit,n=e.status,r=e.formActionText,o=e.header,i=d();return c.a.createElement(l.a,{container:!0,wrap:"wrap",direction:"column",justify:"center",spacing:4,className:i.fullHeight,component:"form",id:t,onSubmit:a},c.a.createElement(l.a,{item:!0,container:!0,direction:"column",className:i.header},c.a.createElement(l.a,{item:!0},c.a.createElement(u.a,{variant:"h4"},o)),c.a.createElement(l.a,{item:!0},c.a.createElement(u.a,{className:i.subtitle},"Required items are marked with *"))),c.a.createElement(l.a,{item:!0},c.a.createElement(p,{name:"title",label:"Title",autoFocus:!0,required:!0})),c.a.createElement(l.a,{item:!0},c.a.createElement(p,{name:"link",label:"Link"})),c.a.createElement(l.a,{item:!0},c.a.createElement(p,{name:"comment",label:"Comment"})),c.a.createElement(l.a,{item:!0},c.a.createElement(m.a,null)),c.a.createElement(l.a,{item:!0},c.a.createElement(s.a,{formId:t,formState:n,color:"primary",variant:"contained"},r)))}},263:function(e,t,a){e.exports=a(463)},268:function(e,t,a){},32:function(e,t,a){"use strict";var n=a(221),r=a.n(n);t.a=r.a.create({withCredentials:!0})},463:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"login",(function(){return d})),a.d(n,"logout",(function(){return g})),a.d(n,"status",(function(){return v})),a.d(n,"register",(function(){return O}));var r=a(0),c=a.n(r),o=a(16),i=a.n(o),l=(a(268),a(28)),u=a(18),s=a(555),m=a(220),f=a.n(m),p=a(32),d=function(e){return p.a.post("/api/auth/login",e)},g=function(){return p.a.post("/api/auth/logout")},b=a(13),h=a.n(b),E=a(19),v=function(){var e=Object(E.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/api/auth/status");case 2:return t=e.sent,e.abrupt("return",{user:(a=t.data).user,loggedIn:a.loggedIn});case 4:case"end":return e.stop()}var a}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(e){return p.a.post("/api/auth/register",e)},j=a(64),y=Object(u.b)("updateAccountAsync",n.status);function S(e){var t=e.response;if(t)return{data:t.data,status:t.status,statusText:t.statusText}}var k=Object(u.b)("loginAsync",function(){var e=Object(E.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.login(t);case 3:return e.abrupt("return",e.sent.data);case 6:return e.prev=6,e.t0=e.catch(0),console.log("Login Error: ",e.t0),console.log("Response: ",e.t0.response),e.abrupt("return",a.rejectWithValue(S(e.t0)));case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}()),x=Object(u.b)("logoutAsync",n.logout),P=Object(u.b)("createAccountAsync",function(){var e=Object(E.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.register(t);case 3:return e.abrupt("return",e.sent.data);case 6:return e.prev=6,e.t0=e.catch(0),console.log("Register Error: ",e.t0),console.log("Response: ",e.t0.response),e.abrupt("return",a.rejectWithValue(S(e.t0)));case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}()),F=Object(u.d)({name:"account-slice",initialState:{account:{loggedIn:!1}},reducers:{},extraReducers:function(e){e.addCase(y.fulfilled,(function(e,t){e.account=t.payload}))}}).reducer,w=(f.a,Object(u.c)()),I=function(e){return e.filter},A=Object(u.b)("getAllPostsAsync",(function(e,t){var a=t.getState,n=e||I(a()),r=n.query,c=n.sort,o=n.order,i=n.tags;return j.getPosts({query:r,sort:c,order:o,tags:(i||[]).map((function(e){return e})).join(",")})})),T=Object(u.b)("createPostAsync",j.createPost),C=Object(u.b)("deletePostAsync",function(){var e=Object(E.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.deletePost(t);case 3:return e.abrupt("return",t);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),N=a(21),L=Object(u.b)("editPostAsync",function(){var e=Object(E.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(N.a)(t,["id"]),e.prev=1,e.next=4,Object(j.editPost)(a,n);case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()),D=Object(u.d)({name:"posts-slice",initialState:w.getInitialState(),reducers:{},extraReducers:function(e){e.addCase(A.fulfilled,w.setAll),e.addCase(C.fulfilled,w.removeOne)}}).reducer,R=a(222),q=(a.n(R).a,Object(u.d)({name:"post-filters",initialState:{sort:"title",order:"asc",tags:[]},reducers:{setFilter:function(e,t){return t.payload}}})),M=q.actions.setFilter,W=q.reducer,B=(q.actions,a(223)),z=a(17),U=a(244),H=a(521),V=a(522),_={primary:{main:H.a[500],contrastText:"#fff"},secondary:{main:V.a[500]}},G=Object(U.a)({palette:Object(z.a)(Object(z.a)({},_),{},{type:"dark",background:{default:"#121212",paper:"#0e0e0e"},text:{primary:"#fff"},action:{focus:"#f00"}})}),J=Object(U.a)({palette:Object(z.a)(Object(z.a)({},_),{},{type:"light"})}),Q={setTheme:function(e){localStorage.setItem("personal-archive-theme",e)},clearTheme:function(){localStorage.removeItem("personal-archive-theme")},getTheme:function(){var e=localStorage.getItem("personal-archive-theme");return"dark"===e||"light"===e?e:null}},Y=Q.setTheme,K={activeTheme:(0,Q.getTheme)()||"dark"},X=Object(u.d)({name:"theme-state",initialState:K,reducers:{setActiveTheme:function(e,t){return{activeTheme:t.payload}}}}),Z=X.reducer,$=X.actions.setActiveTheme,ee=a(52),te=Object(ee.a)((function(e){return e.theme}),(function(e){return e.activeTheme})),ae=(B.ThemeState,a(162)),ne=function(e,t){return e.fulfilled.match(t)},re=[function(e){return function(t){return function(a){var n=ne(k,a),r=ne(x,a),c=ne(P,a);(n||r||c)&&e.dispatch(y()),t(a)}}}],ce=[function(e){var t=e.dispatch;return function(e){return function(a){M.match(a)&&t(A(a.payload)),e(a)}}}],oe=[].concat(Object(ae.a)(re),Object(ae.a)(ce)),ie=Object(u.a)({reducer:{account:F,posts:D,filter:W,theme:Z,form:s.a},middleware:Object(u.e)({serializableCheck:!1}).concat(oe)}),le=function(){return Object(l.c)()},ue=ie,se=a(9),me=a(523),fe=function(){var e=Object(l.d)(te),t=le();return[e,{setActiveTheme:function(e){return t($(e))}}]},pe=function(e){var t=fe(),a=Object(se.a)(t,1)[0];c.a.useEffect((function(){Y(a)}),[a]);return c.a.createElement(me.a,Object.assign({theme:"dark"===a?G:J},e))},de=a(71),ge=a(550),be=a(67),he=a(27),Ee=a(26),ve=function(e){return function(e){return e.account}(e).account},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{autoFetch:!1},t=e.autoFetch,a=c.a.useState("uninitiated"),n=Object(se.a)(a,2),r=n[0],o=n[1],i=le();c.a.useEffect((function(){function e(){return(e=Object(E.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return o("loading"),e.next=4,i(y()).then(u.f).then((function(e){return o("success")})).catch((function(e){return o("fail")}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i,t]);var s=Object(l.d)(ve);return[s,{login:function(e){return i(k(e))},logout:function(){return i(x())},createAccount:function(e){return i(P(e))},updateAccount:function(){return i(y())}},{loading:"loading"===r,success:"success"===r,failure:"fail"===r,uninitiated:"uninitiated"===r}]},je=a(526),ye=a(60),Se=a(468),ke=a(476),xe=a(525),Pe=Object(Se.a)(Object(ke.a)({root:{height:"100%"},typography:{fontFamily:"Caveat"}})),Fe=function(){var e=Pe();return c.a.createElement(c.a.Fragment,null,c.a.createElement(xe.a,null),c.a.createElement(je.a,{container:!0,direction:"column",alignItems:"center",justify:"center",className:e.root},c.a.createElement(ye.a,{variant:"h4",className:e.typography},"Personal Archive")))},we=a(545),Ie=a(531),Ae=a(543),Te=a(472),Ce=a(534),Ne=a(538),Le=a(134),De=a(3),Re=a(230),qe=a.n(Re),Me=Object(Se.a)((function(e){return Object(ke.a)({highlight:{backgroundColor:e.palette.secondary.main}})}));var We=function(e){var t=e.query,a=e.text,n=Object(N.a)(e,["query","text"]),r=Me(),o=function(e){var t=Object(De.a)(n.className,e.className);return c.a.createElement(ye.a,Object.assign({},n,e,{className:t}))};if(!t||!a)return c.a.createElement(o,null,a);return c.a.createElement(o,null,function(e,t){if("string"!==typeof e||"string"!==typeof t)return[];var a=t.trim().toLowerCase(),n=e.toLowerCase(),r=a.length;if(0===n.length&&0===r)return[];var c=[],o=n.indexOf(a);for(;o>-1;)c.push([o,o+r]),o=n.indexOf(t,o+r);return qe()(e,c)}(a,t).map((function(e){var t=e.text;return e.highlight?function(e){return c.a.createElement(o,{component:"span",className:r.highlight},e)}(t):function(e){return c.a.createElement(o,{component:"span"},e)}(t)})))},Be=function(){var e=le();return[Object(l.d)(I),{setFilter:function(t){return e(M(t))}}]},ze=Object(Se.a)((function(e){return Object(ke.a)({root:{fontWeight:e.typography.fontWeightBold,color:"inherit",textDecoration:"none",transition:"0.8s color ease-out",outline:0,"&:hover":{textDecoration:"none",color:Le.a[800]}}})})),Ue=function(e){var t=e.post,a=t.title,n=t.link,r=ze(),o=Be(),i=Object(se.a)(o,1)[0].query,l=a.trim(),u=l.length,s=l.substring(0,50),m=u>50?"...":"",f="".concat(s).concat(m);return c.a.createElement(We,{className:r.root,variant:"h5",component:"a",href:n||"#",target:"_blank",text:f,query:i})},He=function(e){var t=e.post.comment,a=Be(),n=Object(se.a)(a,1)[0].query;return c.a.createElement(We,{paragraph:!0,text:t,query:n})},Ve=a(231),_e=a.n(Ve),Ge=a(243),Je=a(477),Qe=Object(Se.a)((function(e){return Object(ke.a)({root:{display:"inline-flex",flexWrap:"wrap","& > *":{margin:e.spacing(.5)},marginLeft:"-".concat(e.spacing(.5),"px")},tag:{color:e.palette.primary.light}})})),Ye=function(e){var t=e.post.tags,a=Qe();if(0===t.length)return null;var n=t.length-5;return c.a.createElement("div",{className:a.root},t.slice(0,Math.min(5,t.length)).map((function(e){return c.a.createElement(Je.a,{clickable:!0,className:a.tag,size:"small",variant:"outlined",color:"primary",label:e,component:"a",href:"http://localhost:7000",target:"_blank"})})),n>0?c.a.createElement(ye.a,null,"+ ",n," tags"):null)},Ke=Object(Se.a)((function(e){return Object(ke.a)({dotSeparator:Object(z.a)({},e.typography.subtitle2)})})),Xe=function(e){var t=e.post,a=Ke(),n=Object(Ge.a)(t.createdAt,"MMM dd, yyyy");return c.a.createElement(je.a,{container:!0,wrap:"nowrap",alignItems:"center",alignContent:"center",spacing:2},c.a.createElement(je.a,{item:!0,wrap:"nowrap"},c.a.createElement(ye.a,{color:"textSecondary"},n)),t.tags.length>0&&c.a.createElement(je.a,{item:!0},c.a.createElement(_e.a,{className:a.dotSeparator})),c.a.createElement(je.a,{item:!0},c.a.createElement(Ye,{post:t})))},Ze=a(232),$e=a.n(Ze),et=Object(Se.a)((function(e){return Object(ke.a)({root:{textDecoration:"none",transition:"0.8s color ease-out",outline:0,"&:hover":{textDecoration:"none",color:Le.a[800]}}})})),tt=function(e){var t=e.className,a=e.to,n=e.linkOutsideApp,r=Object(N.a)(e,["className","to","linkOutsideApp"]),o=et(),i={};return n?(i.component="a",i.href=a,i.target="_blank"):(i.component=he.b,i.to=a),c.a.createElement(ye.a,Object.assign({className:Object(De.a)(t,o.root)},i,r))},at=Object(Se.a)((function(e){return Object(ke.a)({root:Object(z.a)(Object(z.a)({},e.typography.subtitle1),{},{verticalAlign:"middle",display:"inline-flex"}),link:{color:Le.a[600]}})})),nt=function(e){var t=e.post,a=at();return t.link?c.a.createElement(ye.a,{className:a.root},c.a.createElement($e.a,null),"\xa0",c.a.createElement(tt,{linkOutsideApp:!0,to:t.link,className:a.link},t.link)):null},rt=function(e){var t=e.post;return c.a.createElement(c.a.Fragment,null,c.a.createElement(nt,{post:t}),c.a.createElement(He,{post:t}),c.a.createElement(Xe,{post:t}))},ct=a(126),ot=a.n(ct),it=a(234),lt=a.n(it),ut=a(125),st=a.n(ut),mt=a(537),ft=a(536),pt=a(554),dt=w.getSelectors((function(e){return e.posts})),gt=dt.selectAll,bt=dt.selectById;dt.selectTotal;function ht(e){return function(t){if(e.fulfilled.match(t))return t.payload;if(e.rejected.match(t))throw t.payload;return t}}var Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{autoFetch:!1},t=e.autoFetch,a=c.a.useState("uninitiated"),n=Object(se.a)(a,2),r=n[0],o=n[1],i=c.a.useState(),u=Object(se.a)(i,2),s=u[0],m=u[1],f=le();c.a.useEffect((function(){function e(){return(e=Object(E.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return o("loading"),e.next=4,f(A()).then(ht).then((function(e){return o("success")})).catch((function(e){o("fail"),m(e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[f,t]);var p=Object(l.d)(gt);return[p,{updateAllPosts:function(){return f(A())},createPost:function(e){return f(T(e))},editPost:function(e){return f(L(e))}},{loading:"loading"===r,success:"success"===r,failure:"fail"===r,uninitiated:"uninitiated"===r,error:s}]},vt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{autoFetch:!1},a=t.autoFetch,n=Et({autoFetch:a}),r=Object(se.a)(n,3),c=(r[0],r[1],r[2]),o=Object(l.d)((function(t){return bt(t,e)})),i=le();return[o,{deletePost:function(){return i(C(e))}},c]},Ot=a(556),jt=a(527),yt=a(528),St=a(529),kt=a(530),xt=a(469),Pt=a(83),Ft=function(e){var t=e.post,a=e.isDeleting,n=e.onDeletePost,r=Object(N.a)(e,["post","isDeleting","onDeletePost"]);return c.a.createElement(Ot.a,r,c.a.createElement(jt.a,null,'Delete Post titled "'.concat(t.title,'"?')),c.a.createElement(yt.a,null,c.a.createElement(St.a,null,"This action cannot be undone")),c.a.createElement(kt.a,null,c.a.createElement(xt.a,{onClick:r.onClose},"Don't Delete"),c.a.createElement(Pt.a,{disableElevation:!0,loading:a,variant:"contained",color:"primary",onClick:n},"Delete Post")))},wt=a(245),It=a(532),At=a(533),Tt=function(e){var t=e.icon,a=e.text,n=e.linkTo,r=Object(N.a)(e,["icon","text","linkTo"]),o={};return Boolean(n)&&(o.component=he.b,o.to=n),c.a.createElement(It.a,Object.assign({},r,o),c.a.createElement(At.a,null,c.a.createElement(t,null)),c.a.createElement(Ce.a,null,a))},Ct=function(e){var t=e.onDeletePost,a=e.editPostUrl,n=Object(N.a)(e,["onDeletePost","editPostUrl"]);return c.a.createElement(wt.a,Object.assign({id:"more-options-post",getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},n),c.a.createElement(Tt,{icon:st.a,text:"Edit Post",linkTo:a}),c.a.createElement(Tt,{icon:ot.a,text:"Delete Post",onClick:t}))},Nt=Object(Se.a)((function(e){return Object(ke.a)({root:{marginTop:e.spacing(1)}})})),Lt=function(e){var t=e.post,a=Nt(),n=vt(t.id),r=Object(se.a)(n,2),o=(r[0],r[1].deletePost),i=c.a.useState(!1),l=Object(se.a)(i,2),s=l[0],m=l[1],f=function(){return m(!1)},p=function(){return m(!0)},d=c.a.useState(null),g=Object(se.a)(d,2),b=g[0],v=g[1],O=Object(de.b)().enqueueSnackbar,j=c.a.useState("uninitiated"),y=Object(se.a)(j,2),S=y[0],k=y[1],x=function(){var e=Object(E.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k("loading"),e.prev=1,e.next=4,o().then(u.f);case 4:k("success"),O("Post deleted successfully",{variant:"success"}),setTimeout(f,500),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),k("fail"),O("Error deleting post",{variant:"error"});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),P=Xa.editPost.path.replace(":postId",t.id);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:a.root},c.a.createElement(pt.a,{xsDown:!0},c.a.createElement(ft.a,{title:"Edit Post"},c.a.createElement(mt.a,{component:he.b,to:P},c.a.createElement(st.a,null))),c.a.createElement(ft.a,{title:"Delete Post (clicking will prompt a confirmation)"},c.a.createElement(mt.a,{onClick:p},c.a.createElement(ot.a,null)))),c.a.createElement(pt.a,{smUp:!0},c.a.createElement(ft.a,{title:"More Options"},c.a.createElement(mt.a,{onClick:function(e){v(e.currentTarget)}},c.a.createElement(lt.a,null))))),c.a.createElement(Ft,{open:s,onClose:f,isDeleting:"loading"===S,onDeletePost:x,post:t}),c.a.createElement(Ct,{keepMounted:!0,open:Boolean(b),anchorEl:b,onClose:function(){return v(null)},onDeletePost:p,editPostUrl:P}))},Dt=Object(Se.a)((function(e){return Object(ke.a)({postActionRoot:{height:"100%"},subtitle:{marginTop:e.spacing(1)}})})),Rt=function(e){var t=e.post,a=e.autoFocus,n=e.className,r=Dt(),o=c.a.useState(!1),i=Object(se.a)(o,2),l=i[0],u=i[1];return c.a.useEffect((function(){a&&!l&&(console.log("Will highlight: ",t),setTimeout((function(){u(!0)}),3e3))}),[t,a,l,u]),c.a.createElement(Te.a,{className:n,autoFocus:a,selected:a&&!l},c.a.createElement(Ce.a,{primary:c.a.createElement(Ue,{post:t}),secondary:c.a.createElement(rt,{post:t}),secondaryTypographyProps:{component:"div",className:r.subtitle}}),c.a.createElement(Ne.a,{className:r.postActionRoot},c.a.createElement(Lt,{post:t})))},qt=a(539),Mt=a(235),Wt=a.n(Mt),Bt=Object(Se.a)((function(e){return Object(ke.a)({fab:{position:"fixed",right:e.spacing(4),bottom:e.spacing(4),zIndex:999}})})),zt=function(){var e=Bt(),t=Object(Ee.g)();return c.a.createElement(qt.a,{className:e.fab,color:"secondary",onClick:function(){return t.push(Xa.createPost.path)}},c.a.createElement(Wt.a,null))},Ut=a(540),Ht=function(e){return c.a.createElement(Ut.a,Object.assign({animation:"wave"},e))},Vt=function(e){var t=e.skeletons,a=void 0===t?10:t,n=e.itemClassName,r=void 0===n?"":n,o=e.subheader;return c.a.createElement(Ie.a,null,o,Array(a).fill(null).map((function(){return c.a.createElement(Te.a,{className:r},c.a.createElement(Ce.a,{primary:c.a.createElement(Ht,null),secondary:c.a.createElement(c.a.Fragment,null,c.a.createElement(Ht,{variant:"rect",height:64}),c.a.createElement(Ht,null))}))})))},_t=Object(Se.a)((function(e){return Object(ke.a)({link:Object(z.a)(Object(z.a)({},e.typography.subtitle1),{},{color:Le.a[900]})})})),Gt=function(){var e=_t();return c.a.createElement(je.a,{container:!0,spacing:1,alignItems:"center",justify:"center"},c.a.createElement(je.a,{item:!0},c.a.createElement(ye.a,{align:"center",color:"textSecondary"},"You don't have any posts.")),c.a.createElement(je.a,{item:!0},c.a.createElement(tt,{to:Xa.createPost.path,className:e.link},"Create Post")))},Jt=a(237),Qt=a.n(Jt),Yt=a(535),Kt=a(551),Xt=a(86),Zt=a(249),$t=a(541),ea=a(542),ta=a(557),aa=a(544),na=a(552),ra=a(50),ca=a(129),oa=Object(Se.a)((function(e){var t;return Object(ke.a)({root:(t={},Object(Xt.a)(t,e.breakpoints.up("sm"),{minWidth:"".concat(e.breakpoints.width("sm")-50,"px")}),Object(Xt.a)(t,"& > *",{marginTop:e.spacing(4)}),Object(Xt.a)(t,"& > :last-child",{marginBottom:e.spacing(4)}),t)})})),ia=function(e){var t=e.input;return c.a.createElement($t.a,{component:"fieldset"},c.a.createElement(ea.a,{component:"legend"},"Sort By"),c.a.createElement(ta.a,t,c.a.createElement(aa.a,{value:"title",label:"Title",control:c.a.createElement(na.a,null)}),c.a.createElement(aa.a,{value:"date",label:"Date",control:c.a.createElement(na.a,null)})))},la=function(e){var t=e.input;return c.a.createElement($t.a,{component:"fieldset"},c.a.createElement(ea.a,{component:"legend"},"Sort Order"),c.a.createElement(ta.a,t,c.a.createElement(aa.a,{value:"asc",label:"Ascending",control:c.a.createElement(na.a,null)}),c.a.createElement(aa.a,{value:"desc",label:"Descending",control:c.a.createElement(na.a,null)})))},ua=function(e){var t=e.formId,a=e.onFormSubmit,n=oa();return c.a.createElement(je.a,{container:!0,className:n.root,id:t,onSubmit:a,component:"form",direction:"column"},c.a.createElement(je.a,{item:!0},c.a.createElement(ra.a,{name:"query",label:"Search Query",variant:"outlined",autoFocus:!0,fullWidth:!0})),c.a.createElement(je.a,{item:!0},c.a.createElement(Zt.a,{component:ia,name:"sort"})),c.a.createElement(je.a,{item:!0},c.a.createElement(Zt.a,{component:la,name:"order"})),c.a.createElement(je.a,{item:!0},c.a.createElement(ca.a,{fieldLabel:"Add Filter Tags",getOptionLabel:function(e){return'Add tag "'.concat(e,'"')}})))},sa=Object(Kt.a)({form:"post-filter-form"})((function(e){var t=e.handleSubmit,a=e.afterSetFilter,n=Be(),r=Object(se.a)(n,2),o=(r[0],r[1].setFilter);return c.a.createElement(ua,{formId:"post-filter-form",onFormSubmit:t((function(e){var t=(e.tags||[]).map((function(e){return e.value}));o(Object(z.a)(Object(z.a)({},e),{},{tags:t})),a()}))})})),ma=Object(l.b)((function(e){var t=I(e),a=(t.tags||[]).map((function(e){return{value:e,label:"Add Tag: ".concat(e)}}));return{initialValues:Object(z.a)(Object(z.a)({},t),{},{tags:a})}}))(sa),fa=function(e){var t=Object(Yt.a)((function(e){return e.breakpoints.down("sm")}));return c.a.createElement(Ot.a,Object.assign({disableEscapeKeyDown:!0,fullScreen:t},e),c.a.createElement(jt.a,null,"Filter Posts"),c.a.createElement(yt.a,null,c.a.createElement(ma,{afterSetFilter:e.onClose})),c.a.createElement(kt.a,null,c.a.createElement(xt.a,{onClick:e.onClose},"Cancel"),c.a.createElement(xt.a,{type:"submit",form:"post-filter-form",variant:"contained",color:"primary"},"Set Filter")))},pa=Object(Se.a)((function(e){return Object(ke.a)({root:{fontSize:"inherit",color:"inherit"}})})),da=function(){var e=pa(),t=c.a.useState(!1),a=Object(se.a)(t,2),n=a[0],r=a[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(xt.a,{className:e.root,startIcon:c.a.createElement(Qt.a,null),onClick:function(){return r(!0)}},"Filter"),c.a.createElement(fa,{open:n,onClose:function(){return r(!1)}}))},ga={itemThemeSpacingUnit:10},ba=Object(Se.a)((function(e){return Object(ke.a)({root:{margin:"".concat(e.spacing(4),"px auto")},listSubheader:{marginBottom:"-".concat(e.spacing(ga.itemThemeSpacingUnit/1.5),"px"),display:"flex",alignItems:"baseline"},subheaderMainTitle:{fontSize:"inherit",fontWeight:"inherit",flexGrow:1},item:{margin:"".concat(e.spacing(ga.itemThemeSpacingUnit),"px auto")}})})),ha=function(e){var t=e.posts,a=e.highlightPost,n=e.isLoading,r=e.searchQuery,o=ba(),i=c.a.createElement(Ae.a,{disableSticky:!0,className:o.listSubheader},c.a.createElement(ye.a,{className:o.subheaderMainTitle},"POSTS"),c.a.createElement(da,null));return c.a.createElement(c.a.Fragment,null,c.a.createElement(be.a,null,c.a.createElement("title",null,"Posts")),c.a.createElement(zt,null),c.a.createElement(we.a,{maxWidth:"md",className:o.root},n?c.a.createElement(Vt,{itemClassName:o.item,subheader:i}):function(){if(0===t.length&&"undefined"===typeof r)return c.a.createElement(Gt,null);var e=c.a.createElement(Te.a,{className:o.item},c.a.createElement(Ce.a,{primaryTypographyProps:{align:"center"}},"No posts matching the query '",r,"'")),n=t.map((function(e){return c.a.createElement(Rt,{className:o.item,post:e,key:e.id,autoFocus:e.id===a})}));return c.a.createElement(Ie.a,null,i,r&&0===t.length?e:n)}()))},Ea=function(e){var t=e.highlightPost,a=Et({autoFetch:!0}),n=Object(se.a)(a,3),r=n[0],o=n[1].updateAllPosts,i=n[2],l=i.loading,u=i.error,s=Be(),m=Object(se.a)(s,1)[0].query;return c.a.createElement(ha,{posts:r,onUpdatePosts:o,highlightPost:t,isLoading:l,error:u,searchQuery:m})},va=function(){var e=Oe(),t=Object(se.a)(e,1)[0].loggedIn,a=Object(Ee.h)().state,n=a?a.highlightPost:void 0;return t?c.a.createElement(Ea,{highlightPost:n}):c.a.createElement(Ee.a,{to:Xa.login.path})},Oa=a(546),ja=a(238),ya=a.n(ja),Sa=a(239),ka=a.n(Sa),xa=function(e){var t=e.name,a=e.label,n=c.a.useState(!1),r=Object(se.a)(n,2),o=r[0],i=r[1];return c.a.createElement(ra.a,{type:o?"text":"password",label:a,name:t,InputProps:{endAdornment:c.a.createElement(Oa.a,{position:"end"},c.a.createElement(mt.a,{onClick:function(){return i(!o)}},o?c.a.createElement(ya.a,null):c.a.createElement(ka.a,null)))}})},Pa=a(133),Fa=a(547),wa=Object(Se.a)((function(e){return Object(ke.a)({root:{padding:e.spacing(8)},fullHeight:{height:"100%"},error:{fontSize:"0.8rem",color:Pa.a[900],marginBottom:e.spacing(1)}})})),Ia=function(e){var t=e.loggedIn,a=e.isLoggingIn,n=e.formId,r=e.onFormSubmit,o=e.loginError,i=e.loginResult,l=wa();return"success"===i||t?c.a.createElement(Ee.a,{to:Xa.home.path}):c.a.createElement("div",{className:l.root},c.a.createElement(je.a,{container:!0,direction:"column",alignItems:"center",justify:"center",spacing:6,className:l.fullHeight},c.a.createElement(je.a,{item:!0},c.a.createElement(ye.a,{variant:"h4"},"Login")),c.a.createElement(je.a,{item:!0},o&&c.a.createElement(ye.a,{className:l.error},"*",o),c.a.createElement("form",{id:n,onSubmit:r},c.a.createElement(je.a,{item:!0,container:!0,justify:"center",alignContent:"space-around",direction:"column",spacing:4,className:l.fullHeight},c.a.createElement(je.a,{item:!0},c.a.createElement(ra.a,{name:"username",label:"Username",autoFocus:!0})),c.a.createElement(je.a,{item:!0},c.a.createElement(xa,{name:"password",label:"Password"}))))),c.a.createElement(je.a,{item:!0,container:!0,justify:"center"},c.a.createElement(je.a,{item:!0},c.a.createElement(Pt.a,{loading:a,variant:"contained",color:"primary",type:"submit",form:n},"Login"))),c.a.createElement(je.a,{item:!0},c.a.createElement(Fa.a,{variant:"fullWidth"}),c.a.createElement(xt.a,{component:he.b,to:Xa.register.path},"Create account instead"))))},Aa=function(e){var t=e.loginResult,a=Object(N.a)(e,["loginResult"]),n=Object(de.b)().enqueueSnackbar,r=c.a.useState(!1),o=Object(se.a)(r,2),i=o[0],l=o[1];if(t&&!i){var u=function(){return l(!0)};"success"===t?n("Login Successful. You will be redirected shortly",{variant:"success",onEnter:u}):n("Login Failed",{variant:"error",onEnter:u})}return c.a.createElement(Ia,Object.assign({loginResult:t},a))},Ta=Object(Kt.a)({form:"login-form",initialValues:{username:"John Doe",password:"password"}})((function(e){var t=e.handleSubmit,a=Oe(),n=Object(se.a)(a,2),r=n[0].loggedIn,o=n[1].login,i=c.a.useState(!1),l=Object(se.a)(i,2),u=l[0],s=l[1],m=c.a.useState(void 0),f=Object(se.a)(m,2),p=f[0],d=f[1],g=c.a.useState(),b=Object(se.a)(g,2),v=b[0],O=b[1],j=function(){var e=Object(E.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Perform Login: ",t),s(!0),e.next=4,o(t).then(ht(k)).then((function(e){O("success")})).catch((function(e){401===e.status?d(e.data.message):d("An unknown error occurred. Please try again later"),O("failure")}));case 4:s(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement(Aa,{loggedIn:r,loginResult:v,loginError:p,isLoggingIn:u,formId:"login-form",onFormSubmit:t(j)})})),Ca=a(70),Na=Object(Se.a)((function(e){return Object(ke.a)({root:{margin:"".concat(e.spacing(8),"px auto")}})})),La=function(e){var t=Na();return c.a.createElement(we.a,{maxWidth:"sm",className:t.root},c.a.createElement(be.a,null,c.a.createElement("title",null,"Create Post")),c.a.createElement(Ca.default,Object.assign({},e,{formActionText:"Create Post",header:"Create Post"})))},Da=function(e){var t=e.successSnackbarMessage,a=e.failureSnackbarMessage,n=Object(r.useState)({status:"initial"}),c=Object(se.a)(n,2),o=c[0],i=c[1],l=Object(r.useState)(!1),u=Object(se.a)(l,2),s=u[0],m=u[1],f=Object(de.b)().enqueueSnackbar;return Object(r.useEffect)((function(){s||("submit-success"===o.status&&(f(t,{variant:"success"}),m(!0)),"submit-fail"===o.status&&(f(a,{variant:"error"}),m(!0)))}),[s,o,i,f,t,a]),[o,{setFormSubmitSuccess:function(e){return i({status:"submit-success",meta:e})},setFormSubmitFail:function(e){return i({status:"submit-fail",error:e})},setFormSubmitting:function(){return i({status:"submitting"})}}]},Ra=Object(Kt.a)({form:"create-post-form",initialValues:{title:"New Post"},validate:Ca.validator})((function(e){var t=e.handleSubmit,a=(e.error,Et()),n=Object(se.a)(a,2),r=(n[0],n[1].createPost),o=Da({successSnackbarMessage:"Your post was created successfully",failureSnackbarMessage:"Error creating post"}),i=Object(se.a)(o,2),l=i[0],u=i[1];if("submit-success"===l.status){var s=l.meta;return c.a.createElement(Ee.a,{to:{pathname:Xa.home.path,state:{highlightPost:s&&s.id}}})}return c.a.createElement(La,Object.assign({formId:"create-post-form",onFormSubmit:t((function(e){var t,a=e.tags,n=Object(N.a)(e,["tags"]);a&&(t=a.map((function(e){return e.value}))),u.setFormSubmitting(),r(Object(z.a)(Object(z.a)({},n),{},{tags:t})).then(ht(T)).then((function(e){u.setFormSubmitSuccess(e)})).catch((function(e){u.setFormSubmitFail(e)}))}))},l))})),qa=a(131),Ma=Object(Se.a)((function(e){return Object(ke.a)({root:{padding:e.spacing(8)},fullHeight:{height:"100%"},error:{fontSize:"0.8rem",color:Pa.a[900],marginBottom:e.spacing(1)}})})),Wa=function(e){var t=e.loggedIn,a=e.formId,n=e.onFormSubmit,r=e.status,o=e.error,i=Ma();return"submit-success"===r||t?c.a.createElement(Ee.a,{to:Xa.home.path}):c.a.createElement("div",{className:i.root},c.a.createElement(je.a,{container:!0,direction:"column",alignItems:"center",justify:"center",spacing:6,className:i.fullHeight},c.a.createElement(je.a,{item:!0},c.a.createElement(ye.a,{variant:"h4"},"Create Account")),c.a.createElement(je.a,{item:!0},o&&c.a.createElement(ye.a,{className:i.error},"*",o),c.a.createElement("form",{id:a,onSubmit:n},c.a.createElement(je.a,{item:!0,container:!0,justify:"center",alignContent:"space-around",direction:"column",spacing:4,className:i.fullHeight},c.a.createElement(je.a,{item:!0},c.a.createElement(ra.a,{name:"email",label:"Email",type:"email",autoFocus:!0})),c.a.createElement(je.a,{item:!0},c.a.createElement(ra.a,{name:"username",label:"Username"})),c.a.createElement(je.a,{item:!0},c.a.createElement(xa,{name:"password",label:"Password"}))))),c.a.createElement(je.a,{item:!0,container:!0,justify:"center"},c.a.createElement(qa.a,{formState:r,formId:a,variant:"contained",color:"primary"},"Register")),c.a.createElement(je.a,{item:!0},c.a.createElement(Fa.a,null),c.a.createElement(xt.a,{component:he.b,to:Xa.login.path},"Login instead"))))},Ba=a(78),za=a.n(Ba),Ua=function(e){var t=e.username,a=e.email,n=e.password,r={},c=function(e,t){t&&!za.a.isEmpty(t)||(r[e]="".concat(e," cannot be empty"))};return c("username",t),c("password",n),c("email",a),!a||r.email||za.a.isEmail(a)||(r.email="must be a valid email"),r},Ha=Object(Kt.a)({form:"user-register-form",validate:Ua})((function(e){var t=e.handleSubmit,a=Da({successSnackbarMessage:"User registration completed",failureSnackbarMessage:"Error registering user. Try again"}),n=Object(se.a)(a,2),r=n[0],o=n[1],i=Oe({autoFetch:!0}),l=Object(se.a)(i,2),u=l[0].loggedIn,s=l[1].createAccount;return c.a.createElement(Wa,Object.assign({loggedIn:u,formId:"user-register-form",onFormSubmit:t((function(e){o.setFormSubmitting(),s(e).then(ht(P)).then(o.setFormSubmitSuccess).catch((function(e){var t=e.status,a=e.data,n="An unknown error occurred while trying to create the account";401===t?o.setFormSubmitFail(a?a.message:n):o.setFormSubmitFail(n)}))}))},r))})),Va=a(470),_a=Object(Se.a)((function(e){return Object(ke.a)({dialogContent:{height:"100%","& > *":{margin:e.spacing(2)}}})})),Ga=function(e){var t=e.loadingText,a=Object(N.a)(e,["loadingText"]),n=_a();return c.a.createElement(Ot.a,Object.assign({fullScreen:!0,disableEscapeKeyDown:!0,disableBackdropClick:!0},a),c.a.createElement(yt.a,null,c.a.createElement(je.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:n.dialogContent},c.a.createElement(Va.a,null),c.a.createElement(St.a,{variant:"h4"},t||"Loading"))))},Ja=Object(Se.a)((function(e){return Object(ke.a)({root:{margin:"".concat(e.spacing(8),"px auto")}})})),Qa=function(e){var t=e.postFetchStatus.status,a=Object(N.a)(e,["postFetchStatus"]),n=Ja(),r="uninitiated"===t||"loading"===t;return"fail"===t?c.a.createElement("div",null,"ERROR"):c.a.createElement(c.a.Fragment,null,c.a.createElement(we.a,{maxWidth:"sm",className:n.root},c.a.createElement(be.a,null,c.a.createElement("title",null,"Edit Post")),c.a.createElement(Ca.default,Object.assign({},a,{formActionText:"Confirm Edit",header:"Edit Post"}))),c.a.createElement(Ga,{open:r,loadingText:"Loading Post"}))},Ya=Object(Kt.a)({form:"edit-post-form",validate:Ca.validator})((function(e){var t=e.handleSubmit,a=e.postId,n=e.postFetchStatus,r=Et(),o=Object(se.a)(r,2),i=(o[0],o[1].editPost),l=Da({successSnackbarMessage:"Post edit successful",failureSnackbarMessage:"Error editing post"}),u=Object(se.a)(l,2),s=u[0],m=u[1];if("submit-success"===s.status){var f=s.meta;return c.a.createElement(Ee.a,{to:{pathname:Xa.home.path,state:{highlightPost:f&&f.id}}})}return c.a.createElement(Qa,Object.assign({formId:"edit-post-form",onFormSubmit:t((function(e){var t,n=e.tags,r=Object(N.a)(e,["tags"]);n&&(t=n.map((function(e){return e.value}))),m.setFormSubmitting(),i(Object(z.a)(Object(z.a)({},r),{},{id:a,tags:t})).then(ht(L)).then((function(e){console.log({editedPost:e}),m.setFormSubmitSuccess(e)})).catch((function(e){m.setFormSubmitFail(e)}))})),postFetchStatus:n},s))})),Ka=function(){var e=Object(r.useState)({status:"uninitiated"}),t=Object(se.a)(e,2),a=t[0],n=t[1];return[a,{setLoading:function(){return n({status:"loading",error:void 0,meta:void 0})},setSuccess:function(e){return n({status:"success",meta:e,error:void 0})},setFailure:function(e){return n({status:"fail",error:e,meta:void 0})}}]},Xa={home:{path:"/",component:va,exact:!0},login:{path:"/login",component:Ta,exact:!0},register:{path:"/register",component:Ha,exact:!0},createPost:{path:"/posts/new",component:Ra,exact:!0},editPost:{path:"/posts/:postId/edit",component:function(){var e=Ka(),t=Object(se.a)(e,2),a=t[0],n=t[1],r=n.setSuccess,o=n.setFailure,i=n.setLoading,l=Object(Ee.i)().postId;c.a.useEffect((function(){function e(){return(e=Object(E.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(),e.next=3,Object(j.getPostById)(l).then((function(e){return r(e||void 0)})).catch(o);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}"uninitiated"===a.status&&function(){e.apply(this,arguments)}()}),[l,a,i,o,r]);return c.a.createElement(Ya,{postId:l,initialValues:function(){var e=a.meta;if(e)return Object(z.a)(Object(z.a)({},e),{},{tags:e.tags.map((function(e){return{label:'Create Tag: "'.concat(e,'"'),value:e}}))})}(),postFetchStatus:a})},exact:!0}},Za=Object.values(Xa),$a=a(548),en=a(549),tn=a(132),an=a(240),nn=a.n(an),rn=Object(Se.a)((function(e){return Object(ke.a)({loggedInAs:{marginRight:e.spacing(1)},username:{fontWeight:e.typography.fontWeightBold}})})),cn=function(e){var t=e.anchorElement,a=e.onCloseMenu,n=rn(),r=Oe(),o=Object(se.a)(r,2),i=o[0],l=i.user,u=i.loggedIn,s=o[1].logout;if(!u)return null;var m=l&&l.username;return c.a.createElement(wt.a,{keepMounted:!0,id:"account-menu",anchorEl:t,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},open:Boolean(t),onClose:a},c.a.createElement(It.a,null,c.a.createElement(ye.a,{className:n.loggedInAs},"Logged in as:"),c.a.createElement(ye.a,{className:n.username,noWrap:!0},m||"-")),c.a.createElement(Fa.a,null),c.a.createElement(It.a,{onClick:s},"Logout"))},on=function(){var e=Oe(),t=Object(se.a)(e,3),a=t[0],n=(t[1],t[2].loading),r=c.a.useState(null),o=Object(se.a)(r,2),i=o[0],l=o[1];return n||!a.loggedIn?null:c.a.createElement(c.a.Fragment,null,c.a.createElement(mt.a,{onClick:function(e){console.log("click"),l(e.currentTarget)}},c.a.createElement(nn.a,{fontSize:"large"})),c.a.createElement(cn,{anchorElement:i,onCloseMenu:function(){console.log("close"),l(null)}}))},ln=function(e){return c.a.createElement(xt.a,Object.assign({component:he.c},e))},un=function(){var e=Oe(),t=Object(se.a)(e,3),a=t[0],n=(t[1],t[2].loading);return a.loggedIn||n?null:c.a.createElement(c.a.Fragment,null,c.a.createElement(ln,{to:Xa.login.path,variant:"text"},"Login"),c.a.createElement(ln,{to:Xa.register.path,variant:"outlined"},"Register"))},sn=a(242),mn=a.n(sn),fn=a(241),pn=a.n(fn),dn=function(){var e=fe(),t=Object(se.a)(e,2),a=t[0],n=t[1].setActiveTheme,r="dark"===a,o=r?pn.a:mn.a;return c.a.createElement(ft.a,{title:"Toggle light/dark theme"},c.a.createElement(mt.a,{onClick:function(){if(r)return n("light");n("dark")}},c.a.createElement(o,{fontSize:"large"})))},gn={color:"inherit",textDecoration:"none","&:hover":{color:"inherit",textDecoration:"none"},outline:0},bn=Object(Se.a)((function(e){return Object(ke.a)({root:{flexGrow:1,"& .MuiSvgIcon-root":{fill:e.palette.primary.contrastText}},title:Object(z.a)(Object(z.a)({flexGrow:1},gn),{},{"&:hover":Object(z.a)(Object(z.a)({},gn["&:hover"]),{},{color:tn.a[400]}),transition:"color 0.5s ease-in"}),noLink:gn})})),hn=function(){var e=bn();return c.a.createElement($a.a,{className:e.root},c.a.createElement(en.a,null,c.a.createElement(ye.a,{variant:"h6",className:e.title,component:he.c,to:Xa.home.path},"Personal Archive"),c.a.createElement(dn,null),c.a.createElement(un,null),c.a.createElement(on,null)))},En=function(e){var t=e.children;return c.a.createElement(c.a.Fragment,null,c.a.createElement(hn,null),c.a.createElement(en.a,null),t)},vn=Object(Se.a)((function(e){return Object(ke.a)({root:{height:"100%",padding:e.spacing(8)}})})),On=function(){var e=vn();return c.a.createElement(je.a,{container:!0,direction:"column",justify:"center",className:e.root},c.a.createElement(ye.a,{variant:"h1"},"Error"),c.a.createElement(ye.a,{paragraph:!0},"We could not find the page you were looking for"),c.a.createElement(tt,{to:Xa.home.path},"Go back home"))},jn=function(){return Oe({autoFetch:!0})[2].loading?c.a.createElement(Fe,null):c.a.createElement(he.a,null,c.a.createElement(En,null,c.a.createElement(Ee.d,null,Za.map((function(e){return c.a.createElement(Ee.b,Object.assign({},e,{key:e.path}))})),c.a.createElement(Ee.b,{path:"*",component:On}))))},yn=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(be.a,{titleTemplate:"%s | Personal Archive",defaultTitle:"Personal Archive"}),c.a.createElement(jn,null))};i.a.render(c.a.createElement(l.a,{store:ue},c.a.createElement(pe,null,c.a.createElement(de.a,null,c.a.createElement(ge.a,null),c.a.createElement(yn,null)))),document.getElementById("root"))},50:function(e,t,a){"use strict";var n=a(21),r=a(0),c=a.n(r),o=a(248),i=a(60),l=a(249),u=function(e){var t=e.input,a=e.meta,r=a.touched,l=a.error,u=e.label,s=Object(n.a)(e,["input","meta","label"]),m=r&&l;return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,Object.assign({fullWidth:!0,label:u,error:m},s,t)),m&&c.a.createElement(i.a,{color:"error"},l))};t.a=function(e){var t=e.name,a=e.label,r=(e.children,Object(n.a)(e,["name","label","children"]));return c.a.createElement(l.a,Object.assign({component:u,name:t,label:a},r))}},64:function(e,t,a){"use strict";a.r(t);var n=a(178);a.d(t,"getPosts",(function(){return n.b})),a.d(t,"getPostById",(function(){return n.a}));var r=a(179);a.d(t,"createPost",(function(){return r.a}));var c=a(180);a.d(t,"deletePost",(function(){return c.a}));var o=a(181);a.d(t,"editPost",(function(){return o.a}));var i=a(182);for(var l in i)["getPosts","getPostById","createPost","deletePost","editPost","default"].indexOf(l)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(l)},70:function(e,t,a){"use strict";var n=a(246),r=a(203);a.d(t,"validator",(function(){return r.a}));a(216);t.default=n.a},76:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){return{id:e._id,title:e.title,userId:e.userId,link:e.link,comment:e.comment,tags:e.tags,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)}}},83:function(e,t,a){"use strict";var n=a(21),r=a(0),c=a.n(r),o=a(469),i=a(470),l=a(468),u=a(476),s=Object(l.a)((function(e){return Object(u.a)({stateIcon:{marginRight:e.spacing(1.5),verticalAlign:"middle"}})}));t.a=function(e){var t=e.loading,a=void 0!==t&&t,r=e.children,l=Object(n.a)(e,["loading","children"]),u=s();return c.a.createElement(o.a,Object.assign({},l,{disabled:a}),a&&c.a.createElement(i.a,{thickness:8,size:14,className:u.stateIcon}),r)}}},[[263,1,2]]]);
//# sourceMappingURL=main.1051e972.chunk.js.map