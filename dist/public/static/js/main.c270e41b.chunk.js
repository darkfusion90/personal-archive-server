(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{100:function(e,t,a){"use strict";var n=a(15),r=Object(n.c)();t.a=r},104:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return m})),a.d(t,"d",(function(){return f}));var n=a(18),r=a(266),c=a(546),o=a(547),i={primary:{main:c.a[500],contrastText:"#fff"},secondary:{main:o.a[500]}},u=Object(r.a)({palette:Object(n.a)(Object(n.a)({},i),{},{type:"dark",background:{default:"#121212",paper:"#0e0e0e"},text:{primary:"#fff"},action:{focus:"#f00"}})}),l=Object(r.a)({palette:Object(n.a)(Object(n.a)({},i),{},{type:"light"})}),s={setTheme:function(e){localStorage.setItem("personal-archive-theme",e)},clearTheme:function(){localStorage.removeItem("personal-archive-theme")},getTheme:function(){var e=localStorage.getItem("personal-archive-theme");return"dark"===e||"light"===e?e:null}},m=s.getTheme,f=s.setTheme},119:function(e,t,a){"use strict";a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return m}));var n=a(244),r=a(15),c=a(104),o={activeTheme:Object(c.b)()||"dark"},i=Object(r.d)({name:"theme-state",initialState:o,reducers:{setActiveTheme:function(e,t){return{activeTheme:t.payload}}}}),u=i.reducer,l=i.actions.setActiveTheme,s=a(61),m=Object(s.a)((function(e){return e.theme}),(function(e){return e.activeTheme}));n.ThemeState},132:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(60),r=a(21),c=function(e){var t=e.toEdit,a=e.value;return console.log(Object(n.a)({},t,a)),r.a.put("/api/account",Object(n.a)({},t,a))}},133:function(e,t,a){"use strict";var n=a(16),r=a(0),c=a.n(r),o=a(499),i=a(493),u=a(494),l=a(495),s=a(269),m=a(183);a(239);t.default=function(e){var t=e.toEdit,a=Object(n.a)(e,["toEdit"]);return c.a.createElement(o.a,a,c.a.createElement(i.a,null,"Edit Account"),c.a.createElement(u.a,null,c.a.createElement(m.a,{toEdit:t})),c.a.createElement(l.a,null,c.a.createElement(s.a,{color:"primary",variant:"contained",type:"submit",form:m.b},"Confirm Edit")))}},147:function(e,t,a){"use strict";var n=a(257),r=a(0),c=a.n(r),o=a(271),i=a(270),u=a(502),l=a(500),s=function(e){var t=e.input,a=t.value,r=t.onChange,o=e.fieldLabel,s=e.getOptionLabel;return c.a.createElement(l.a,{id:"tags-outlined",multiple:!0,selectOnFocus:!0,clearOnBlur:!0,options:[],filterOptions:function(e,t){var a=t.inputValue,n=[];if(""!==a){var r=s?s(a):'Create tag "'.concat(a,'"');n.push({value:a.trim(),label:r})}return n},getOptionLabel:function(e){return e.label},renderInput:function(e){return c.a.createElement(i.a,Object.assign({},e,{variant:"outlined",label:o||"Create Tags",placeholder:"Tags"}))},renderTags:function(e,t){return e.map((function(e,a){return c.a.createElement(u.a,Object.assign({label:e.value},t({index:a})))}))},onChange:function(e,t,c,o){if(!Array.isArray(t))return null;if("create-option"===c||"select-option"===c){var i,u={},l=Object(n.a)(t);try{for(l.s();!(i=l.n()).done;){var s=i.value;u[s.value]=s}}catch(d){l.e(d)}finally{l.f()}r(Object.values(u))}if("remove-option"===c&&o){var m=o.option,f=a.filter((function(e){return e.value!==m.value}));r(f)}},value:a||[]})};t.a=function(e){var t=e.fieldLabel,a=e.getOptionLabel;return c.a.createElement(o.a,{name:"tags",component:s,fieldLabel:t,getOptionLabel:a})}},183:function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return b}));var n=a(6),r=a(0),c=a.n(r),o=a(573),i=a(47),u=function(e){var t=e.formState,a=e.toEdit,n=e.formId,r=e.onFormSubmit;return c.a.createElement("form",{id:n,onSubmit:r},c.a.createElement(i.a,{variant:"outlined",name:"toEditValue",label:"Enter "+a,disabled:"submitting"===t.status}))},l=a(68),s=a(27),m=a(23),f=a(38),d="edit-account",b=Object(o.a)({form:d})((function(e){var t=e.handleSubmit,a=e.toEdit,r=Object(s.a)()[1].editAccount,o=Object(l.a)({successSnackbarMessage:"Account successfully edited",failureSnackbarMessage:"Failed to edit account"}),i=Object(n.a)(o,2),b=i[0],p=i[1];return c.a.createElement(u,{formState:b,toEdit:a,formId:d,onFormSubmit:t((function(e){var t=e.toEditValue;p.setFormSubmitting(),r(a,t).then(Object(f.a)(m.c)).then((function(){return p.setFormSubmitSuccess()})).catch(p.setFormSubmitFail)}))})}))},198:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return s}));var n=a(11),r=a.n(n),c=a(22),o=a(21),i=a(88);function u(e){var t=e.query,a=e.tags,n=e.sort,r=e.order,c={};return t&&(c.query=t),n&&(c.sort=n),r&&(c.order=r),a&&(c.tags=a),Object.keys(c).map((function(e){return"".concat(e,"=").concat(c[e])})).join("&")}var l=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a,n,c=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:{},e.next=3,o.a.get("/api/posts?".concat(u(t)));case 3:return a=e.sent,n=a.data,e.abrupt("return",n.posts.map(i.a));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.get("/api/posts/".concat(t));case 2:return a=e.sent,n=a.data,e.abrupt("return",Object(i.a)(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},199:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(11),r=a.n(n),c=a(22),o=a(88),i=a(21),u=function(){var e=Object(c.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/api/posts/",t);case 2:return a=e.sent,n=a.data,e.abrupt("return",Object(o.a)(n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},200:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(11),r=a.n(n),c=a(22),o=a(21),i=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",o.a.delete("/api/posts/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},201:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(11),r=a.n(n),c=a(22),o=a(88),i=a(21),u=function(){var e=Object(c.a)(r.a.mark((function e(t,a){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.put("/api/posts/".concat(t),a);case 2:return n=e.sent,c=n.data,e.abrupt("return",Object(o.a)(c));case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},202:function(e,t){},21:function(e,t,a){"use strict";var n=a(242),r=a.n(n);t.a=r.a.create({withCredentials:!0})},223:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(73),r=a.n(n);function c(e){var t={};return"string"===typeof e.title&&r.a.isEmpty(e.title)&&(t.title="Title is required"),e.link&&!r.a.isEmpty(e.link.trim())&&(r.a.isURL(e.link,{require_protocol:!0})||(t.link="If provided, must be an url")),t}},23:function(e,t,a){"use strict";a.d(t,"d",(function(){return h})),a.d(t,"b",(function(){return E})),a.d(t,"h",(function(){return c})),a.d(t,"e",(function(){return s})),a.d(t,"f",(function(){return m})),a.d(t,"a",(function(){return f})),a.d(t,"c",(function(){return b})),a.d(t,"g",(function(){return g}));var n=a(15),r=a(53),c=Object(n.b)("updateAccountAsync",r.a.status),o=a(11),i=a.n(o),u=a(22);function l(e){var t=e.response;if(t)return{data:t.data,status:t.status,statusText:t.statusText}}var s=Object(n.b)("loginAsync",function(){var e=Object(u.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.a.login(t);case 3:return e.abrupt("return",e.sent.data);case 6:return e.prev=6,e.t0=e.catch(0),console.log("Login Error: ",e.t0),console.log("Response: ",e.t0.response),e.abrupt("return",a.rejectWithValue(l(e.t0)));case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}()),m=Object(n.b)("logoutAsync",r.a.logout),f=Object(n.b)("createAccountAsync",function(){var e=Object(u.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.a.register(t);case 3:return e.abrupt("return",e.sent.data);case 6:return e.prev=6,e.t0=e.catch(0),console.log("Register Error: ",e.t0),console.log("Response: ",e.t0.response),e.abrupt("return",a.rejectWithValue(l(e.t0)));case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}()),d=a(132),b=Object(n.b)("editAccountAsync",d.a),p=a(35),g=Object(n.b)("resetPasswordAsync",function(){var e=Object(u.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p.attemptPasswordReset)(t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.log("inside action err: ",e.t0),e.abrupt("return",a.rejectWithValue(l(e.t0)));case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}()),h=Object(n.b)("enableMultifactorAuth",p.enableMultifactorAuth),E=Object(n.b)("disableMultifactorAuth",p.disableMultifactorAuth)},236:function(e,t,a){"use strict";a(237),a(238)},237:function(e,t){},238:function(e,t){},239:function(e,t){},241:function(e,t){},243:function(e,t){},244:function(e,t){},261:function(e,t,a){"use strict";var n=a(133);t.default=n.default},268:function(e,t,a){"use strict";var n=a(18),r=a(0),c=a.n(r),o=a(490),i=a(501),u=a(551),l=a(74),s=a(99),m=a(147),f=a(47),d=function(e){return c.a.createElement(f.a,Object.assign({},e,{variant:"outlined"}))},b=Object(o.a)((function(e){return Object(i.a)({fullHeight:{height:"100%"},header:{marginBottom:e.spacing(4)},subtitle:Object(n.a)(Object(n.a)({},e.typography.subtitle2),{},{color:e.palette.text.secondary,fontWeight:e.typography.fontWeightRegular})})}));t.a=function(e){var t=e.formId,a=e.onFormSubmit,n=e.status,r=e.formActionText,o=e.header,i=b();return c.a.createElement(u.a,{container:!0,wrap:"wrap",direction:"column",justify:"center",spacing:4,className:i.fullHeight,component:"form",id:t,onSubmit:a},c.a.createElement(u.a,{item:!0,container:!0,direction:"column",className:i.header},c.a.createElement(u.a,{item:!0},c.a.createElement(l.a,{variant:"h4"},o)),c.a.createElement(u.a,{item:!0},c.a.createElement(l.a,{className:i.subtitle},"Required items are marked with *"))),c.a.createElement(u.a,{item:!0},c.a.createElement(d,{name:"title",label:"Title",autoFocus:!0,required:!0})),c.a.createElement(u.a,{item:!0},c.a.createElement(d,{name:"link",label:"Link"})),c.a.createElement(u.a,{item:!0},c.a.createElement(d,{name:"comment",label:"Comment"})),c.a.createElement(u.a,{item:!0},c.a.createElement(m.a,null)),c.a.createElement(u.a,{item:!0},c.a.createElement(s.a,{formId:t,formState:n,color:"primary",variant:"contained"},r)))}},27:function(e,t,a){"use strict";var n=a(11),r=a.n(n),c=a(22),o=a(6),i=a(0),u=a.n(i),l=a(31),s=function(e){return function(e){return e.account}(e).account},m=a(23),f=a(55),d=a(15);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{autoFetch:!1},t=e.autoFetch,a=u.a.useState("uninitiated"),n=Object(o.a)(a,2),i=n[0],b=n[1],p=Object(f.b)();u.a.useEffect((function(){function e(){return(e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return b("loading"),e.next=4,p(Object(m.h)()).then(d.f).then((function(e){return b("success")})).catch((function(e){return b("fail")}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[p,t]);var g=Object(l.d)(s);return[g,{login:function(e){return p(Object(m.e)(e))},logout:function(){return p(Object(m.f)())},createAccount:function(e){return p(Object(m.a)(e))},updateAccount:function(){return p(Object(m.h)())},editAccount:function(e,t){return p(Object(m.c)({toEdit:e,value:t}))},multifactor:{enableMultifactor:function(){return p(Object(m.d)())},disableMultifactor:function(){return p(Object(m.b)())}},resetPassword:function(e){return p(Object(m.g)(e))}},{loading:"loading"===i,success:"success"===i,failure:"fail"===i,uninitiated:"uninitiated"===i}]}},286:function(e,t,a){e.exports=a(486)},291:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t),a.d(t,"enableMultifactorAuth",(function(){return b})),a.d(t,"disableMultifactorAuth",(function(){return p})),a.d(t,"requestEmailVerification",(function(){return h})),a.d(t,"checkEmailVerificationToken",(function(){return E})),a.d(t,"requestPasswordResetToken",(function(){return j})),a.d(t,"attemptPasswordReset",(function(){return O})),a.d(t,"checkPasswordResetToken",(function(){return y})),a.d(t,"requestDeviceVerificationToken",(function(){return k})),a.d(t,"performDeviceVerification",(function(){return S})),a.d(t,"login",(function(){return r})),a.d(t,"logout",(function(){return c})),a.d(t,"status",(function(){return m})),a.d(t,"register",(function(){return f}));var n=a(21),r=function(e){return n.a.post("/api/auth/login",e)},c=function(){return n.a.post("/api/auth/logout")},o=a(11),i=a.n(o),u=a(22),l=a(18),s=function(e){return{id:e._id,username:e.username,email:e.email,createdAt:new Date(e.createdAt)}},m=function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.a.get("/api/auth/status");case 2:return t=e.sent,e.abrupt("return",(a=t.data,Object(l.a)({user:a.user?s(a.user):void 0,loggedIn:a.loggedIn},function(e){return{emailVerified:e.emailVerified,multifactorAuthEnabled:e.multifactorAuthEnabled}}(a))));case 4:case"end":return e.stop()}var a}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(e){return n.a.post("/api/auth/register",e)},d=function(e){return"/api/auth/multifactor/".concat(e)},b=function(){return n.a.put(d("enable"))},p=function(){return n.a.put(d("disable"))},g=function(e,t){var a="generate"===e?e:"".concat(e,"/").concat(t);return"/api/auth/email-verification/".concat(a)},h=function(){return n.a.post(g("generate"))},E=function(e){return n.a.post(g("verify",e))},v="/api/auth/password-reset",j=function(e){return n.a.post("".concat(v,"/generate"),{username:e})},O=function(e){var t=e.passwordResetToken,a=e.password;return n.a.post("".concat(v,"/reset/").concat(t),{password:a})},y=function(e){return n.a.get("".concat(v,"/check/").concat(e))},k=function(){return n.a.post("".concat("/api/auth/multifactor","/generate"))},S=function(e){return n.a.post("".concat("/api/auth/multifactor","/verify/").concat(e))}},38:function(e,t,a){"use strict";function n(e){return function(t){if(!e.fulfilled)return t;if(e.fulfilled.match(t))return t.payload;if(e.rejected.match(t))throw t.payload;return t}}a.d(t,"a",(function(){return n}))},40:function(e,t,a){"use strict";a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return f})),a.d(t,"c",(function(){return p}));var n=a(15),r=a(53),c=a(93),o=Object(n.b)("getAllPostsAsync",(function(e,t){var a=t.getState,n=e||Object(c.a)(a()),o=n.query,i=n.sort,u=n.order,l=n.tags;return r.b.getPosts({query:o,sort:i,order:u,tags:(l||[]).map((function(e){return e})).join(",")})})),i=a(78),u=Object(n.b)("createPostAsync",i.createPost),l=a(11),s=a.n(l),m=a(22),f=Object(n.b)("deletePostAsync",function(){var e=Object(m.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.b.deletePost(t);case 3:return e.abrupt("return",t);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),d=a(16),b=Object(n.b)("editPostAsync",function(){var e=Object(m.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=Object(d.a)(t,["id"]),e.prev=1,e.next=4,Object(i.editPost)(a,n);case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()),p=b},47:function(e,t,a){"use strict";var n=a(16),r=a(0),c=a.n(r),o=a(270),i=a(74),u=a(271),l=function(e){var t=e.input,a=e.meta,r=a.touched,u=a.error,l=e.label,s=Object(n.a)(e,["input","meta","label"]),m=r&&u;return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,Object.assign({fullWidth:!0,label:l,error:m},s,t)),m&&c.a.createElement(i.a,{color:"error"},u))};t.a=function(e){var t=e.name,a=e.label,r=(e.children,Object(n.a)(e,["name","label","children"]));return c.a.createElement(u.a,Object.assign({component:l,name:t,label:a},r))}},486:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),i=(a(291),a(31)),u=a(55),l=a(6),s=a(548),m=a(119),f=function(){var e=Object(i.d)(m.a),t=Object(u.b)();return[e,{setActiveTheme:function(e){return t(Object(m.b)(e))}}]},d=a(104),b=function(e){var t=f(),a=Object(l.a)(t,1)[0];r.a.useEffect((function(){Object(d.d)(a)}),[a]);return r.a.createElement(s.a,Object.assign({theme:"dark"===a?d.a:d.c},e))},p=a(83),g=a(572),h=a(80),E=a(24),v=a(30),j=a(27),O=a(551),y=a(74),k=a(490),S=a(501),w=a(550),x=Object(k.a)(Object(S.a)({root:{height:"100%"},typography:{fontFamily:"Caveat"}})),P=function(){var e=x();return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,null),r.a.createElement(O.a,{container:!0,direction:"column",alignItems:"center",justify:"center",className:e.root},r.a.createElement(y.a,{variant:"h4",className:e.typography},"Personal Archive")))},F=a(567),A=a(553),T=a(565),C=a(496),I=a(556),N=a(560),R=a(152),D=a(16),L=a(3),M=a(251),V=a.n(M),q=Object(k.a)((function(e){return Object(S.a)({highlight:{backgroundColor:e.palette.secondary.main}})}));var W=function(e){var t=e.query,a=e.text,n=Object(D.a)(e,["query","text"]),c=q(),o=function(e){var t=Object(L.a)(n.className,e.className);return r.a.createElement(y.a,Object.assign({},n,e,{className:t}))};if(!t||!a)return r.a.createElement(o,null,a);return r.a.createElement(o,null,function(e,t){if("string"!==typeof e||"string"!==typeof t)return[];var a=t.trim().toLowerCase(),n=e.toLowerCase(),r=a.length;if(0===n.length&&0===r)return[];var c=[],o=n.indexOf(a);for(;o>-1;)c.push([o,o+r]),o=n.indexOf(t,o+r);return V()(e,c)}(a,t).map((function(e){var t=e.text;return e.highlight?function(e){return r.a.createElement(o,{component:"span",className:c.highlight},e)}(t):function(e){return r.a.createElement(o,{component:"span"},e)}(t)})))},B=a(93),U=a(92),z=function(){var e=Object(u.b)();return[Object(i.d)(B.a),{setFilter:function(t){return e(Object(U.b)(t))}}]},G=Object(k.a)((function(e){return Object(S.a)({root:{fontWeight:e.typography.fontWeightBold,color:"inherit",textDecoration:"none",transition:"0.8s color ease-out",outline:0,"&:hover":{textDecoration:"none",color:R.a[800]}}})})),H=function(e){var t=e.post,a=t.title,n=t.link,c=G(),o=z(),i=Object(l.a)(o,1)[0].query,u=a.trim(),s=u.length,m=u.substring(0,50),f=s>50?"...":"",d="".concat(m).concat(f);return r.a.createElement(W,{className:c.root,variant:"h5",component:"a",href:n||"#",target:"_blank",text:d,query:i})},Y=function(e){var t=e.post.comment,a=z(),n=Object(l.a)(a,1)[0].query;return r.a.createElement(W,{paragraph:!0,text:t,query:n})},_=a(18),J=a(252),Q=a.n(J),K=a(265),X=a(502),Z=Object(k.a)((function(e){return Object(S.a)({root:{display:"inline-flex",flexWrap:"wrap","& > *":{margin:e.spacing(.5)},marginLeft:"-".concat(e.spacing(.5),"px")},tag:{color:e.palette.primary.light}})})),$=function(e){var t=e.post.tags,a=Z();if(0===t.length)return null;var n=t.length-5;return r.a.createElement("div",{className:a.root},t.slice(0,Math.min(5,t.length)).map((function(e){return r.a.createElement(X.a,{clickable:!0,className:a.tag,size:"small",variant:"outlined",color:"primary",label:e,component:"a",href:"http://localhost:7000",target:"_blank"})})),n>0?r.a.createElement(y.a,null,"+ ",n," tags"):null)},ee=Object(k.a)((function(e){return Object(S.a)({dotSeparator:Object(_.a)({},e.typography.subtitle2)})})),te=function(e){var t=e.post,a=ee(),n=Object(K.a)(t.createdAt,"MMM dd, yyyy");return r.a.createElement(O.a,{container:!0,wrap:"nowrap",alignItems:"center",alignContent:"center",spacing:2},r.a.createElement(O.a,{item:!0,wrap:"nowrap"},r.a.createElement(y.a,{color:"textSecondary"},n)),t.tags.length>0&&r.a.createElement(O.a,{item:!0},r.a.createElement(Q.a,{className:a.dotSeparator})),r.a.createElement(O.a,{item:!0},r.a.createElement($,{post:t})))},ae=a(253),ne=a.n(ae),re=Object(k.a)((function(e){return Object(S.a)({root:{textDecoration:"none",transition:"0.8s color ease-out",outline:0,"&:hover":{textDecoration:"none",color:R.a[800]}}})})),ce=function(e){var t=e.className,a=e.to,n=e.linkOutsideApp,c=Object(D.a)(e,["className","to","linkOutsideApp"]),o=re(),i={};return n?(i.component="a",i.href=a,i.target="_blank"):(i.component=E.b,i.to=a),r.a.createElement(y.a,Object.assign({className:Object(L.a)(t,o.root)},i,c))},oe=Object(k.a)((function(e){return Object(S.a)({root:Object(_.a)(Object(_.a)({},e.typography.subtitle1),{},{verticalAlign:"middle",display:"inline-flex"}),link:{color:R.a[600]}})})),ie=function(e){var t=e.post,a=oe();return t.link?r.a.createElement(y.a,{className:a.root},r.a.createElement(ne.a,null),"\xa0",r.a.createElement(ce,{linkOutsideApp:!0,to:t.link,className:a.link},t.link)):null},ue=function(e){var t=e.post;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,{post:t}),r.a.createElement(Y,{post:t}),r.a.createElement(te,{post:t}))},le=a(11),se=a.n(le),me=a(22),fe=a(144),de=a.n(fe),be=a(255),pe=a.n(be),ge=a(143),he=a.n(ge),Ee=a(559),ve=a(558),je=a(577),Oe=a(100),ye=Oe.a.getSelectors((function(e){return e.posts})),ke=ye.selectAll,Se=ye.selectById,we=(ye.selectTotal,a(40)),xe=a(38),Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{autoFetch:!1},t=e.autoFetch,a=r.a.useState("uninitiated"),n=Object(l.a)(a,2),c=n[0],o=n[1],s=r.a.useState(),m=Object(l.a)(s,2),f=m[0],d=m[1],b=Object(u.b)();r.a.useEffect((function(){function e(){return(e=Object(me.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}return o("loading"),e.next=4,b(Object(we.d)()).then(xe.a).then((function(e){return o("success")})).catch((function(e){o("fail"),d(e)}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[b,t]);var p=Object(i.d)(ke);return[p,{updateAllPosts:function(){return b(Object(we.d)())},createPost:function(e){return b(Object(we.a)(e))},editPost:function(e){return b(Object(we.c)(e))}},{loading:"loading"===c,success:"success"===c,failure:"fail"===c,uninitiated:"uninitiated"===c,error:f}]},Fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{autoFetch:!1},a=t.autoFetch,n=Pe({autoFetch:a}),r=Object(l.a)(n,3),c=(r[0],r[1],r[2]),o=Object(i.d)((function(t){return Se(t,e)})),s=Object(u.b)();return[o,{deletePost:function(){return s(Object(we.b)(e))}},c]},Ae=a(15),Te=a(499),Ce=a(493),Ie=a(494),Ne=a(552),Re=a(495),De=a(269),Le=a(67),Me=function(e){var t=e.post,a=e.isDeleting,n=e.onDeletePost,c=Object(D.a)(e,["post","isDeleting","onDeletePost"]);return r.a.createElement(Te.a,c,r.a.createElement(Ce.a,null,'Delete Post titled "'.concat(t.title,'"?')),r.a.createElement(Ie.a,null,r.a.createElement(Ne.a,null,"This action cannot be undone")),r.a.createElement(Re.a,null,r.a.createElement(De.a,{onClick:c.onClose},"Don't Delete"),r.a.createElement(Le.a,{disableElevation:!0,loading:a,variant:"contained",color:"primary",onClick:n},"Delete Post")))},Ve=a(267),qe=a(554),We=a(555),Be=function(e){var t=e.icon,a=e.text,n=e.linkTo,c=Object(D.a)(e,["icon","text","linkTo"]),o={};return Boolean(n)&&(o.component=E.b,o.to=n),r.a.createElement(qe.a,Object.assign({},c,o),r.a.createElement(We.a,null,r.a.createElement(t,null)),r.a.createElement(I.a,null,a))},Ue=function(e){var t=e.onDeletePost,a=e.editPostUrl,n=Object(D.a)(e,["onDeletePost","editPostUrl"]);return r.a.createElement(Ve.a,Object.assign({id:"more-options-post",getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},n),r.a.createElement(Be,{icon:he.a,text:"Edit Post",linkTo:a}),r.a.createElement(Be,{icon:de.a,text:"Delete Post",onClick:t}))},ze=Object(k.a)((function(e){return Object(S.a)({root:{marginTop:e.spacing(1)}})})),Ge=function(e){var t=e.post,a=ze(),n=Fe(t.id),c=Object(l.a)(n,2),o=(c[0],c[1].deletePost),i=r.a.useState(!1),u=Object(l.a)(i,2),s=u[0],m=u[1],f=function(){return m(!1)},d=function(){return m(!0)},b=r.a.useState(null),g=Object(l.a)(b,2),h=g[0],v=g[1],j=Object(p.b)().enqueueSnackbar,O=r.a.useState("uninitiated"),y=Object(l.a)(O,2),k=y[0],S=y[1],w=function(){var e=Object(me.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S("loading"),e.prev=1,e.next=4,o().then(Ae.f);case 4:S("success"),j("Post deleted successfully",{variant:"success"}),setTimeout(f,500),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),S("fail"),j("Error deleting post",{variant:"error"});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),x=Ua.editPost.path.replace(":postId",t.id);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:a.root},r.a.createElement(je.a,{xsDown:!0},r.a.createElement(ve.a,{title:"Edit Post"},r.a.createElement(Ee.a,{component:E.b,to:x},r.a.createElement(he.a,null))),r.a.createElement(ve.a,{title:"Delete Post (clicking will prompt a confirmation)"},r.a.createElement(Ee.a,{onClick:d},r.a.createElement(de.a,null)))),r.a.createElement(je.a,{smUp:!0},r.a.createElement(ve.a,{title:"More Options"},r.a.createElement(Ee.a,{onClick:function(e){v(e.currentTarget)}},r.a.createElement(pe.a,null))))),r.a.createElement(Me,{open:s,onClose:f,isDeleting:"loading"===k,onDeletePost:w,post:t}),r.a.createElement(Ue,{keepMounted:!0,open:Boolean(h),anchorEl:h,onClose:function(){return v(null)},onDeletePost:d,editPostUrl:x}))},He=Object(k.a)((function(e){return Object(S.a)({postActionRoot:{height:"100%"},subtitle:{marginTop:e.spacing(1)}})})),Ye=function(e){var t=e.post,a=e.autoFocus,n=e.className,c=He(),o=r.a.useState(!1),i=Object(l.a)(o,2),u=i[0],s=i[1];return r.a.useEffect((function(){a&&!u&&(console.log("Will highlight: ",t),setTimeout((function(){s(!0)}),3e3))}),[t,a,u,s]),r.a.createElement(C.a,{className:n,autoFocus:a,selected:a&&!u},r.a.createElement(I.a,{primary:r.a.createElement(H,{post:t}),secondary:r.a.createElement(ue,{post:t}),secondaryTypographyProps:{component:"div",className:c.subtitle}}),r.a.createElement(N.a,{className:c.postActionRoot},r.a.createElement(Ge,{post:t})))},_e=a(561),Je=a(256),Qe=a.n(Je),Ke=Object(k.a)((function(e){return Object(S.a)({fab:{position:"fixed",right:e.spacing(4),bottom:e.spacing(4),zIndex:999}})})),Xe=function(){var e=Ke(),t=Object(v.g)();return r.a.createElement(_e.a,{className:e.fab,color:"secondary",onClick:function(){return t.push(Ua.createPost.path)}},r.a.createElement(Qe.a,null))},Ze=a(562),$e=function(e){return r.a.createElement(Ze.a,Object.assign({animation:"wave"},e))},et=function(e){var t=e.skeletons,a=void 0===t?10:t,n=e.itemClassName,c=void 0===n?"":n,o=e.subheader;return r.a.createElement(A.a,null,o,Array(a).fill(null).map((function(){return r.a.createElement(C.a,{className:c},r.a.createElement(I.a,{primary:r.a.createElement($e,null),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement($e,{variant:"rect",height:64}),r.a.createElement($e,null))}))})))},tt=Object(k.a)((function(e){return Object(S.a)({link:Object(_.a)(Object(_.a)({},e.typography.subtitle1),{},{color:R.a[900]})})})),at=function(){var e=tt();return r.a.createElement(O.a,{container:!0,spacing:1,alignItems:"center",justify:"center"},r.a.createElement(O.a,{item:!0},r.a.createElement(y.a,{align:"center",color:"textSecondary"},"You don't have any posts.")),r.a.createElement(O.a,{item:!0},r.a.createElement(ce,{to:Ua.createPost.path,className:e.link},"Create Post")))},nt=a(258),rt=a.n(nt),ct=a(557),ot=a(573),it=a(60),ut=a(271),lt=a(563),st=a(564),mt=a(579),ft=a(566),dt=a(574),bt=a(47),pt=a(147),gt=Object(k.a)((function(e){var t;return Object(S.a)({root:(t={},Object(it.a)(t,e.breakpoints.up("sm"),{minWidth:"".concat(e.breakpoints.width("sm")-50,"px")}),Object(it.a)(t,"& > *",{marginTop:e.spacing(4)}),Object(it.a)(t,"& > :last-child",{marginBottom:e.spacing(4)}),t)})})),ht=function(e){var t=e.input;return r.a.createElement(lt.a,{component:"fieldset"},r.a.createElement(st.a,{component:"legend"},"Sort By"),r.a.createElement(mt.a,t,r.a.createElement(ft.a,{value:"title",label:"Title",control:r.a.createElement(dt.a,null)}),r.a.createElement(ft.a,{value:"date",label:"Date",control:r.a.createElement(dt.a,null)})))},Et=function(e){var t=e.input;return r.a.createElement(lt.a,{component:"fieldset"},r.a.createElement(st.a,{component:"legend"},"Sort Order"),r.a.createElement(mt.a,t,r.a.createElement(ft.a,{value:"asc",label:"Ascending",control:r.a.createElement(dt.a,null)}),r.a.createElement(ft.a,{value:"desc",label:"Descending",control:r.a.createElement(dt.a,null)})))},vt=function(e){var t=e.formId,a=e.onFormSubmit,n=gt();return r.a.createElement(O.a,{container:!0,className:n.root,id:t,onSubmit:a,component:"form",direction:"column"},r.a.createElement(O.a,{item:!0},r.a.createElement(bt.a,{name:"query",label:"Search Query",variant:"outlined",autoFocus:!0,fullWidth:!0})),r.a.createElement(O.a,{item:!0},r.a.createElement(ut.a,{component:ht,name:"sort"})),r.a.createElement(O.a,{item:!0},r.a.createElement(ut.a,{component:Et,name:"order"})),r.a.createElement(O.a,{item:!0},r.a.createElement(pt.a,{fieldLabel:"Add Filter Tags",getOptionLabel:function(e){return'Add tag "'.concat(e,'"')}})))},jt=Object(ot.a)({form:"post-filter-form"})((function(e){var t=e.handleSubmit,a=e.afterSetFilter,n=z(),c=Object(l.a)(n,2),o=(c[0],c[1].setFilter);return r.a.createElement(vt,{formId:"post-filter-form",onFormSubmit:t((function(e){var t=(e.tags||[]).map((function(e){return e.value}));o(Object(_.a)(Object(_.a)({},e),{},{tags:t})),a()}))})})),Ot=Object(i.b)((function(e){var t=Object(B.a)(e),a=(t.tags||[]).map((function(e){return{value:e,label:"Add Tag: ".concat(e)}}));return{initialValues:Object(_.a)(Object(_.a)({},t),{},{tags:a})}}))(jt),yt=function(e){var t=Object(ct.a)((function(e){return e.breakpoints.down("sm")}));return r.a.createElement(Te.a,Object.assign({disableEscapeKeyDown:!0,fullScreen:t},e),r.a.createElement(Ce.a,null,"Filter Posts"),r.a.createElement(Ie.a,null,r.a.createElement(Ot,{afterSetFilter:e.onClose})),r.a.createElement(Re.a,null,r.a.createElement(De.a,{onClick:e.onClose},"Cancel"),r.a.createElement(De.a,{type:"submit",form:"post-filter-form",variant:"contained",color:"primary"},"Set Filter")))},kt=Object(k.a)((function(e){return Object(S.a)({root:{fontSize:"inherit",color:"inherit"}})})),St=function(){var e=kt(),t=r.a.useState(!1),a=Object(l.a)(t,2),n=a[0],c=a[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(De.a,{className:e.root,startIcon:r.a.createElement(rt.a,null),onClick:function(){return c(!0)}},"Filter"),r.a.createElement(yt,{open:n,onClose:function(){return c(!1)}}))},wt={itemThemeSpacingUnit:10},xt=Object(k.a)((function(e){return Object(S.a)({root:{margin:"".concat(e.spacing(4),"px auto")},listSubheader:{marginBottom:"-".concat(e.spacing(wt.itemThemeSpacingUnit/1.5),"px"),display:"flex",alignItems:"baseline"},subheaderMainTitle:{fontSize:"inherit",fontWeight:"inherit",flexGrow:1},item:{margin:"".concat(e.spacing(wt.itemThemeSpacingUnit),"px auto")}})})),Pt=function(e){var t=e.posts,a=e.highlightPost,n=e.isLoading,c=e.searchQuery,o=xt(),i=r.a.createElement(T.a,{disableSticky:!0,className:o.listSubheader},r.a.createElement(y.a,{className:o.subheaderMainTitle},"POSTS"),r.a.createElement(St,null));return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,null,r.a.createElement("title",null,"Posts")),r.a.createElement(Xe,null),r.a.createElement(F.a,{maxWidth:"md",className:o.root},n?r.a.createElement(et,{itemClassName:o.item,subheader:i}):function(){if(0===t.length&&"undefined"===typeof c)return r.a.createElement(at,null);var e=r.a.createElement(C.a,{className:o.item},r.a.createElement(I.a,{primaryTypographyProps:{align:"center"}},"No posts matching the query '",c,"'")),n=t.map((function(e){return r.a.createElement(Ye,{className:o.item,post:e,key:e.id,autoFocus:e.id===a})}));return r.a.createElement(A.a,null,i,c&&0===t.length?e:n)}()))},Ft=function(e){var t=e.highlightPost,a=Pe({autoFetch:!0}),n=Object(l.a)(a,3),c=n[0],o=n[1].updateAllPosts,i=n[2],u=i.loading,s=i.error,m=z(),f=Object(l.a)(m,1)[0].query;return r.a.createElement(Pt,{posts:c,onUpdatePosts:o,highlightPost:t,isLoading:u,error:s,searchQuery:f})},At=function(){var e=Object(j.a)(),t=Object(l.a)(e,1)[0].loggedIn,a=Object(v.h)().state,n=a?a.highlightPost:void 0;return t?r.a.createElement(Ft,{highlightPost:n}):r.a.createElement(v.a,{to:Ua.login.path})},Tt=a(23),Ct=a(568),It=a(259),Nt=a.n(It),Rt=a(260),Dt=a.n(Rt),Lt=function(e){var t=e.name,a=e.label,n=Object(D.a)(e,["name","label"]),c=r.a.useState(!1),o=Object(l.a)(c,2),i=o[0],u=o[1];return r.a.createElement(bt.a,Object.assign({type:i?"text":"password",label:a,name:t,InputProps:{endAdornment:r.a.createElement(Ct.a,{position:"end"},r.a.createElement(Ee.a,{onClick:function(){return u(!i)}},i?r.a.createElement(Nt.a,null):r.a.createElement(Dt.a,null)))}},n))},Mt=a(151),Vt=a(569),qt=a(576),Wt=Object(k.a)((function(e){return Object(S.a)({root:{padding:e.spacing(8)},fullHeight:{height:"100%"},error:{fontSize:"0.8rem",color:Mt.a[900],marginBottom:e.spacing(1)}})})),Bt=function(e){var t=e.loginError,a=Object(ct.a)((function(e){return e.breakpoints.down("sm")})),n=Object(ct.a)((function(e){return e.breakpoints.down("xs")}));return t?"device-not-trusted"===t?r.a.createElement(qt.a,{severity:"error",style:{maxWidth:n?"75vw":a?"40vw":"30vw"}},r.a.createElement(O.a,{container:!0,direction:"column"},r.a.createElement(O.a,{item:!0},r.a.createElement(y.a,{variant:"h6"},"This device/location is not trusted")),r.a.createElement(O.a,{item:!0},"Please check your email for instructions to mark the device/location as trusted"))):r.a.createElement(qt.a,{severity:"error"},t):null},Ut=function(e){var t=e.loggedIn,a=e.isLoggingIn,n=e.formId,c=e.onFormSubmit,o=e.loginError,i=e.loginResult,u=Wt();return"success"===i||t?r.a.createElement(v.a,{to:Ua.home.path}):r.a.createElement("div",{className:u.root},r.a.createElement(O.a,{container:!0,direction:"column",alignItems:"center",justify:"center",spacing:6,className:u.fullHeight},r.a.createElement(O.a,{item:!0},r.a.createElement(y.a,{variant:"h4"},"Login")),o&&r.a.createElement(O.a,{item:!0},r.a.createElement(Bt,{loginError:o})),r.a.createElement(O.a,{item:!0},r.a.createElement("form",{id:n,onSubmit:c},r.a.createElement(O.a,{item:!0,container:!0,justify:"center",alignContent:"space-around",direction:"column",spacing:4,className:u.fullHeight},r.a.createElement(O.a,{item:!0},r.a.createElement(bt.a,{name:"username",label:"Username",autoFocus:!0})),r.a.createElement(O.a,{item:!0},r.a.createElement(Lt,{name:"password",label:"Password"}))))),r.a.createElement(O.a,{item:!0,container:!0,justify:"center"},r.a.createElement(O.a,{item:!0},r.a.createElement(Le.a,{loading:a,variant:"contained",color:"primary",type:"submit",form:n},"Login"))),r.a.createElement(O.a,{item:!0},r.a.createElement(Vt.a,{variant:"fullWidth"}),r.a.createElement(De.a,{component:E.b,to:Ua.register.path},"Create account instead"))))},zt=a(35),Gt=function(e){var t=e.loginResult,a=e.loginError,n=Object(D.a)(e,["loginResult","loginError"]),c=Object(p.b)().enqueueSnackbar,o=r.a.useState(!1),i=Object(l.a)(o,2),u=i[0],s=i[1];if(t&&!u){var m=function(){return s(!0)};"success"===t?c("Login Successful. You will be redirected shortly",{variant:"success",onEnter:m}):c("Login Failed",{variant:"error",onEnter:m})}return r.a.useEffect((function(){"device-not-trusted"===a&&Object(zt.requestDeviceVerificationToken)()}),[a]),r.a.createElement(Ut,Object.assign({loginResult:t,loginError:a},n))},Ht=Object(ot.a)({form:"login-form",initialValues:{username:"John Doe",password:"password"}})((function(e){var t=e.handleSubmit,a=Object(j.a)(),n=Object(l.a)(a,2),c=n[0].loggedIn,o=n[1].login,i=r.a.useState(!1),u=Object(l.a)(i,2),s=u[0],m=u[1],f=r.a.useState(void 0),d=Object(l.a)(f,2),b=d[0],p=d[1],g=r.a.useState(),h=Object(l.a)(g,2),E=h[0],v=h[1],O=function(){var e=Object(me.a)(se.a.mark((function e(t){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Perform Login: ",t),m(!0),e.next=4,o(t).then(Object(xe.a)(Tt.e)).then((function(e){v("success")})).catch((function(e){401===e.status?p(e.data.message):p("An unknown error occurred. Please try again later"),v("failure")}));case 4:m(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Gt,{loggedIn:c,loginResult:E,loginError:b,isLoggingIn:s,formId:"login-form",onFormSubmit:t(O)})})),Yt=a(82),_t=Object(k.a)((function(e){return Object(S.a)({root:{margin:"".concat(e.spacing(8),"px auto")}})})),Jt=function(e){var t=_t();return r.a.createElement(F.a,{maxWidth:"sm",className:t.root},r.a.createElement(h.a,null,r.a.createElement("title",null,"Create Post")),r.a.createElement(Yt.default,Object.assign({},e,{formActionText:"Create Post",header:"Create Post"})))},Qt=a(68),Kt=Object(ot.a)({form:"create-post-form",initialValues:{title:"New Post"},validate:Yt.validator})((function(e){var t=e.handleSubmit,a=(e.error,Pe()),n=Object(l.a)(a,2),c=(n[0],n[1].createPost),o=Object(Qt.a)({successSnackbarMessage:"Your post was created successfully",failureSnackbarMessage:"Error creating post"}),i=Object(l.a)(o,2),u=i[0],s=i[1];if("submit-success"===u.status){var m=u.meta;return r.a.createElement(v.a,{to:{pathname:Ua.home.path,state:{highlightPost:m&&m.id}}})}return r.a.createElement(Jt,Object.assign({formId:"create-post-form",onFormSubmit:t((function(e){var t,a=e.tags,n=Object(D.a)(e,["tags"]);a&&(t=a.map((function(e){return e.value}))),s.setFormSubmitting(),c(Object(_.a)(Object(_.a)({},n),{},{tags:t})).then(Object(xe.a)(we.a)).then((function(e){s.setFormSubmitSuccess(e)})).catch((function(e){s.setFormSubmitFail(e)}))}))},u))})),Xt=a(99),Zt=Object(k.a)((function(e){return Object(S.a)({root:{padding:e.spacing(8)},fullHeight:{height:"100%"},error:{fontSize:"0.8rem",color:Mt.a[900],marginBottom:e.spacing(1)}})})),$t=function(e){var t=e.loggedIn,a=e.formId,n=e.onFormSubmit,c=e.status,o=e.error,i=Zt();return"submit-success"===c||t?r.a.createElement(v.a,{to:Ua.home.path}):r.a.createElement("div",{className:i.root},r.a.createElement(O.a,{container:!0,direction:"column",alignItems:"center",justify:"center",spacing:6,className:i.fullHeight},r.a.createElement(O.a,{item:!0},r.a.createElement(y.a,{variant:"h4"},"Create Account")),r.a.createElement(O.a,{item:!0},o&&r.a.createElement(y.a,{className:i.error},"*",o),r.a.createElement("form",{id:a,onSubmit:n},r.a.createElement(O.a,{item:!0,container:!0,justify:"center",alignContent:"space-around",direction:"column",spacing:4,className:i.fullHeight},r.a.createElement(O.a,{item:!0},r.a.createElement(bt.a,{name:"email",label:"Email",type:"email",autoFocus:!0})),r.a.createElement(O.a,{item:!0},r.a.createElement(bt.a,{name:"username",label:"Username"})),r.a.createElement(O.a,{item:!0},r.a.createElement(Lt,{name:"password",label:"Password"}))))),r.a.createElement(O.a,{item:!0,container:!0,justify:"center"},r.a.createElement(Xt.a,{formState:c,formId:a,variant:"contained",color:"primary"},"Register")),r.a.createElement(O.a,{item:!0},r.a.createElement(Vt.a,null),r.a.createElement(De.a,{component:E.b,to:Ua.login.path},"Login instead"))))},ea=a(73),ta=a.n(ea),aa=function(e){var t=e.username,a=e.email,n=e.password,r={},c=function(e,t){t&&!ta.a.isEmpty(t)||(r[e]="".concat(e," cannot be empty"))};return c("username",t),c("password",n),c("email",a),!a||r.email||ta.a.isEmail(a)||(r.email="must be a valid email"),r},na=Object(ot.a)({form:"user-register-form",validate:aa})((function(e){var t=e.handleSubmit,a=Object(Qt.a)({successSnackbarMessage:"User registration completed",failureSnackbarMessage:"Error registering user. Try again"}),n=Object(l.a)(a,2),c=n[0],o=n[1],i=Object(j.a)({autoFetch:!0}),u=Object(l.a)(i,2),s=u[0].loggedIn,m=u[1].createAccount;return r.a.createElement($t,Object.assign({loggedIn:s,formId:"user-register-form",onFormSubmit:t((function(e){o.setFormSubmitting(),m(e).then(Object(xe.a)(Tt.a)).then(o.setFormSubmitSuccess).catch((function(e){var t=e.status,a=e.data,n="An unknown error occurred while trying to create the account";401===t?o.setFormSubmitFail(a?a.message:n):o.setFormSubmitFail(n)}))}))},c))})),ra=a(491),ca=Object(k.a)((function(e){return Object(S.a)({dialogContent:{height:"100%","& > *":{margin:e.spacing(2)}}})})),oa=function(e){var t=e.loadingText,a=Object(D.a)(e,["loadingText"]),n=ca();return r.a.createElement(Te.a,Object.assign({fullScreen:!0,disableEscapeKeyDown:!0,disableBackdropClick:!0},a),r.a.createElement(Ie.a,null,r.a.createElement(O.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:n.dialogContent},r.a.createElement(ra.a,null),r.a.createElement(Ne.a,{variant:"h4"},t||"Loading"))))},ia=Object(k.a)((function(e){return Object(S.a)({root:{margin:"".concat(e.spacing(8),"px auto")}})})),ua=function(e){var t=e.postFetchStatus.status,a=Object(D.a)(e,["postFetchStatus"]),n=ia(),c="uninitiated"===t||"loading"===t;return"fail"===t?r.a.createElement("div",null,"ERROR"):r.a.createElement(r.a.Fragment,null,r.a.createElement(F.a,{maxWidth:"sm",className:n.root},r.a.createElement(h.a,null,r.a.createElement("title",null,"Edit Post")),r.a.createElement(Yt.default,Object.assign({},a,{formActionText:"Confirm Edit",header:"Edit Post"}))),r.a.createElement(oa,{open:c,loadingText:"Loading Post"}))},la=Object(ot.a)({form:"edit-post-form",validate:Yt.validator})((function(e){var t=e.handleSubmit,a=e.postId,n=e.postFetchStatus,c=Pe(),o=Object(l.a)(c,2),i=(o[0],o[1].editPost),u=Object(Qt.a)({successSnackbarMessage:"Post edit successful",failureSnackbarMessage:"Error editing post"}),s=Object(l.a)(u,2),m=s[0],f=s[1];if("submit-success"===m.status){var d=m.meta;return r.a.createElement(v.a,{to:{pathname:Ua.home.path,state:{highlightPost:d&&d.id}}})}return r.a.createElement(ua,Object.assign({formId:"edit-post-form",onFormSubmit:t((function(e){var t,n=e.tags,r=Object(D.a)(e,["tags"]);n&&(t=n.map((function(e){return e.value}))),f.setFormSubmitting(),i(Object(_.a)(Object(_.a)({},r),{},{id:a,tags:t})).then(Object(xe.a)(we.c)).then((function(e){console.log({editedPost:e}),f.setFormSubmitSuccess(e)})).catch((function(e){f.setFormSubmitFail(e)}))})),postFetchStatus:n},m))})),sa=a(78),ma=function(){var e=Object(n.useState)({status:"uninitiated"}),t=Object(l.a)(e,2),a=t[0],r=t[1];return[a,{setUninitiated:function(){return r({status:"uninitiated",error:void 0,meta:void 0})},setLoading:function(){return r({status:"loading",error:void 0,meta:void 0})},setSuccess:function(e){return r({status:"success",meta:e,error:void 0})},setFailure:function(e){return r({status:"fail",error:e,meta:void 0})}}]},fa=function(){var e=ma(),t=Object(l.a)(e,2),a=t[0],n=t[1],c=n.setSuccess,o=n.setFailure,i=n.setLoading,u=Object(v.i)().postId;r.a.useEffect((function(){function e(){return(e=Object(me.a)(se.a.mark((function e(){return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(),e.next=3,Object(sa.getPostById)(u).then((function(e){return c(e||void 0)})).catch(o);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}"uninitiated"===a.status&&function(){e.apply(this,arguments)}()}),[u,a,i,o,c]);return r.a.createElement(la,{postId:u,initialValues:function(){var e=a.meta;if(e)return Object(_.a)(Object(_.a)({},e),{},{tags:e.tags.map((function(e){return{label:'Create Tag: "'.concat(e,'"'),value:e}}))})}(),postFetchStatus:a})},da=a(489),ba=a(181),pa=Object(k.a)((function(e){return Object(S.a)({item:Object(it.a)({padding:e.spacing(4)},e.breakpoints.down("xs"),{padding:e.spacing(2)}),action:{backgroundColor:"dark"===e.palette.type?Object(ba.fade)(e.palette.primary.light,.05):Object(ba.lighten)(e.palette.primary.light,.6)},subtitle:{paddingTop:e.spacing(1),paddingBottom:e.spacing(1)}})})),ga=function(e){var t=e.action,a=Object(D.a)(e,["action"]),n=pa();return r.a.createElement(da.a,{elevation:2},r.a.createElement(O.a,{container:!0},r.a.createElement(ha,Object.assign({},a,{className:n.item})),r.a.createElement(Ea,{action:t,className:Object(L.a)(n.item,n.action)})))},ha=function(e){var t=e.title,a=e.subtitle,n=e.extra,c=e.className,o=pa(),i=Object(ct.a)((function(e){return e.breakpoints.down("sm")}))?"h5":"h4";return r.a.createElement(O.a,{item:!0,container:!0,direction:"column",wrap:"nowrap",sm:7,className:c},r.a.createElement(O.a,{item:!0},r.a.createElement(y.a,{variant:i},t)),r.a.createElement(O.a,{item:!0},r.a.createElement(y.a,{variant:"subtitle2",className:o.subtitle},a)),r.a.createElement(O.a,{item:!0},n))},Ea=function(e){var t=e.action,a=e.className;return r.a.createElement(O.a,{sm:!0,item:!0,container:!0,alignItems:"center",justify:"center",className:a},r.a.createElement(O.a,{item:!0},t))},va=function(e){var t=e.action,a=ma(),n=Object(l.a)(a,2),r=n[0],c=n[1];return[r,{asyncActions:c,performAction:function(e){c.setLoading(),t(e).then(Object(xe.a)(t)).then((function(e){return c.setSuccess(e)})).catch((function(e){return c.setFailure(e)}))}}]},ja=function(e){var t=r.a.createElement(y.a,{variant:"subtitle2",color:"textSecondary"},e.multifactorAuthEnabled?"Enabled":"Disabled");return r.a.createElement(ga,{title:"Two Factor Authentication",subtitle:t,action:r.a.createElement(ya,null),extra:r.a.createElement(Oa,e)})},Oa=function(e){return e.multifactorAuthEnabled?r.a.createElement(r.a.Fragment,null,"Your account is secured using Two Factor Authentication. Any attempt to login through an unknown device and/or IP address will require additional confirmation through email"):r.a.createElement(r.a.Fragment,null,"Enabling Two Factor authentication will provide additional security to your account")},ya=function(){var e=Object(j.a)(),t=Object(l.a)(e,2),a=t[0].multifactorAuthEnabled,n=t[1].multifactor,c=a?{text:"Disable Two Factor Auth",onClick:n.disableMultifactor}:{text:"Enable Two Factor Auth",onClick:n.enableMultifactor},o=c.text,i=va({action:c.onClick}),u=Object(l.a)(i,2),s=u[0],m=u[1].performAction;return r.a.createElement(Le.a,{loading:"loading"===s.status,variant:"contained",color:"primary",onClick:function(){return m()}},o)},ka=a(261),Sa=function(e){var t=e.toEdit,a=Object(D.a)(e,["toEdit"]),n=r.a.useState(!1),c=Object(l.a)(n,2),o=c[0],i=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(De.a,Object.assign({variant:"contained",color:"primary",onClick:function(){return i(!0)}},a)),r.a.createElement(ka.default,{toEdit:t,open:o,onClose:function(){return i(!1)}}))},wa=function(e){return r.a.createElement(ga,{title:"Email",subtitle:r.a.createElement(xa,e),action:r.a.createElement(Sa,{toEdit:"email"},"Change Email Address"),extra:!e.emailVerified&&r.a.createElement(Pa,null)})},xa=function(e){var t=e.email,a=e.emailVerified;return r.a.createElement(r.a.Fragment,null,t,r.a.createElement(y.a,{component:"span",variant:"subtitle2",color:"textSecondary"}," ","(",a?"":"not ","verified)"))},Pa=function(){var e=va({action:zt.requestEmailVerification}),t=Object(l.a)(e,2),a=t[0].status,n=t[1].performAction;return r.a.createElement(qt.a,{severity:"info",action:r.a.createElement(Le.a,{loading:"loading"===a,onClick:function(){return n()}},"Send verification email")},"Your email address is not verified")},Fa=function(e){var t=e.username;return r.a.createElement(ga,{title:"Username",subtitle:t,action:r.a.createElement(Sa,{toEdit:"username"},"Change Username")})},Aa=function(e){var t=e.emailVerified;return r.a.createElement(ga,{title:"Password",subtitle:t?"":"Verify your email to reset password",action:r.a.createElement(De.a,{variant:"contained",color:"primary",disabled:!t,component:E.b,to:Ua.initiatePasswordReset.path},"Reset Password")})},Ta=Object(k.a)((function(e){return Object(S.a)({root:{height:"100%",marginTop:e.spacing(8),marginBottom:e.spacing(8)}})})),Ca=function(){var e=Object(j.a)({autoFetch:!0}),t=Object(l.a)(e,3),a=t[0],n=a.loggedIn,c=a.user,o=a.emailVerified,i=a.multifactorAuthEnabled,u=(t[1],t[2]),s=Ta();return u.loading||u.uninitiated?r.a.createElement(oa,{open:!0}):n&&c?r.a.createElement(F.a,{maxWidth:"md",className:s.root},r.a.createElement(O.a,{container:!0,direction:"column",justify:"space-evenly",wrap:"nowrap",spacing:4},r.a.createElement(O.a,{item:!0},r.a.createElement(Fa,{username:c.username})),r.a.createElement(O.a,{item:!0},r.a.createElement(wa,{email:c.email,emailVerified:Boolean(o)})),r.a.createElement(O.a,{item:!0},r.a.createElement(ja,{multifactorAuthEnabled:Boolean(i)})),r.a.createElement(O.a,{item:!0},r.a.createElement(Aa,{emailVerified:Boolean(o)})))):r.a.createElement(v.a,{to:Ua.login.path})},Ia=Object(k.a)((function(){return Object(S.a)({link:{textDecoration:"underline"}})})),Na=function(e){e.className;var t=Object(D.a)(e,["className"]),a=Ia();return r.a.createElement(ce,Object.assign({color:"inherit",className:a.link},t))},Ra=Object(k.a)((function(){return Object(S.a)({root:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}})})),Da=function(e){var t=e.title,a=e.subtitle,n=Ra();return r.a.createElement(F.a,{maxWidth:"sm",className:n.root},r.a.createElement(O.a,{container:!0,spacing:8,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(y.a,{variant:"h5"},t),r.a.createElement(y.a,{variant:"subtitle2",color:"textSecondary"},a)))},La=function(e){var t=e.asyncStatus,a=e.loadingText,n=Object(D.a)(e,["asyncStatus","loadingText"]);return"loading"===t||"uninitiated"===t?r.a.createElement(oa,{open:!0,loadingText:a}):"fail"===t?n.errorContent:n.successContent},Ma=function(){var e=Object(v.i)().token,t=va({action:zt.checkEmailVerificationToken}),a=Object(l.a)(t,2),n=a[0].status,c=a[1].performAction;return r.a.useEffect((function(){"uninitiated"===n&&(console.log("Will verify"),c(e))}),[n,c,e]),r.a.createElement(La,{asyncStatus:n,loadingText:"Verifying Token",successContent:r.a.createElement(Da,{title:"Thank you for verifying your email address!",subtitle:r.a.createElement(Na,{to:Ua.home.path},"Go to home page")}),errorContent:r.a.createElement(Da,{title:"This link is either invalid or has already expired",subtitle:r.a.createElement(r.a.Fragment,null,"Please visit"," ",r.a.createElement(Na,{to:Ua.account.path},"Account Page")," ","to generate a new link to verify your email address")})})},Va=Object(k.a)((function(e){return Object(S.a)({root:{marginTop:e.spacing(2),marginBottom:e.spacing(8)}})})),qa=function(e){var t=e.formState.status,a=e.formId,n=e.onFormSubmit,c=Va();return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{variant:"h5"},"Reset your password:"),r.a.createElement(O.a,{container:!0,direction:"column",component:"form",spacing:4,className:c.root,id:a,onSubmit:n},r.a.createElement(O.a,{item:!0},r.a.createElement(Lt,{name:"password",label:"Enter Password",variant:"outlined"})),r.a.createElement(O.a,{item:!0},r.a.createElement(Lt,{name:"confirmPassword",label:"Confirm Password",variant:"outlined"})),r.a.createElement(O.a,{item:!0},r.a.createElement(Xt.a,{fullWidth:!0,formState:t,formId:a,color:"primary",variant:"contained"},"Reset Password"))))},Wa=function(e){var t=e.password,a=e.confirmPassword,n={};return t||(n.password="Password is required"),a||(n.confirmPassword="Confirm Password is required"),t&&a&&!ta.a.equals(t,a)&&(n.confirmPassword="Must match the password"),n},Ba=Object(ot.a)({form:"password-reset-form",validate:Wa})((function(e){var t=e.passwordResetToken,a=e.formState,n=e.formActions,c=e.handleSubmit,o=Object(j.a)()[1].resetPassword;return r.a.createElement(qa,{formState:a,formId:"password-reset-form",onFormSubmit:c((function(e){var a=e.password;n.setFormSubmitting(),o({passwordResetToken:t,password:a}).then(Object(xe.a)(Tt.g)).then((function(e){return n.setFormSubmitSuccess()})).catch((function(e){console.log("Reset error: ",{err:e}),n.setFormSubmitFail(e)}))}))})})),Ua={home:{path:"/",component:At,exact:!0},login:{path:"/login",component:Ht,exact:!0},register:{path:"/register",component:na,exact:!0},createPost:{path:"/posts/new",component:Kt,exact:!0},editPost:{path:"/posts/:postId/edit",component:fa,exact:!0},account:{path:"/account",component:Ca,exact:!0},verifyEmail:{path:"/email-verification/:token",component:Ma,exact:!0},passwordReset:{path:"/password-reset/perform-reset/:token",component:function(){var e=Object(v.i)().token,t=va({action:zt.checkPasswordResetToken}),a=Object(l.a)(t,2),n=a[0].status,c=a[1],o=c.performAction,i=c.asyncActions;r.a.useEffect((function(){"uninitiated"===n&&o(e)}),[n,o,e]);var u=Object(Qt.a)({successSnackbarMessage:"Password successfully reset",failureSnackbarMessage:"Password reset failed"}),s=Object(l.a)(u,2),m=s[0],f=s[1];return"submit-success"===m.status?r.a.createElement(v.a,{to:"/"}):("submit-fail"===m.status&&setTimeout((function(){f.resetFormState(),i.setUninitiated()}),2e3),r.a.createElement(La,{asyncStatus:n,errorContent:r.a.createElement(Da,{title:"This link is either invalid or has already expired",subtitle:r.a.createElement(r.a.Fragment,null,"Please visit"," ",r.a.createElement(Na,{to:Ua.account.path},"Account Page")," ","to generate a new password reset token")}),successContent:r.a.createElement(Da,{title:r.a.createElement(Ba,{passwordResetToken:e,formState:m,formActions:f}),subtitle:r.a.createElement(Na,{to:Ua.home.path},"Go to home page")})}))},exact:!0},initiatePasswordReset:{path:"/password-reset/initiate",component:function(){var e=ma(),t=Object(l.a)(e,2),a=t[0],n=a.meta,c=a.status,o=t[1],i=Object(j.a)()[0],u=i.user,s=i.emailVerified;return r.a.useEffect((function(){u&&"uninitiated"===c&&(o.setLoading(),Object(zt.requestPasswordResetToken)(u.username).then((function(e){return o.setSuccess(e.data.token)})).catch(o.setFailure))})),u?s?"loading"===c?r.a.createElement(oa,{open:!0,loadingText:"Generating password reset token"}):"fail"===c?r.a.createElement(Da,{title:"Failed to generate password reset token",subtitle:"Please try again after a while"}):r.a.createElement(Da,{title:"Password reset token generated",subtitle:"The token has been mailed to your registered email id: ".concat(n&&n.token)}):r.a.createElement(Da,{title:"You need to verify your email before resetting your password",subtitle:r.a.createElement(r.a.Fragment,null,"Please visit"," ",r.a.createElement(Na,{to:Ua.account.path},"Account Page")," ","to verify your email")}):r.a.createElement(v.a,{to:Ua.home.path})},exact:!0},deviceVerification:{path:"/device-verification/:token",component:function(){var e=Object(v.i)().token,t=ma(),a=Object(l.a)(t,2),n=a[0].status,c=a[1],o=c.setLoading,i=c.setFailure,u=c.setSuccess;return r.a.useEffect((function(){"uninitiated"===n&&(o(),Object(zt.performDeviceVerification)(e).then(u).catch(i))}),[e,n,o,u,i]),"uninitiated"===n||"loading"===n?r.a.createElement(oa,{open:!0,loadingText:"Verifying Link"}):r.a.createElement(La,{asyncStatus:n,successContent:r.a.createElement(Da,{title:"Thank you for verifying your device/location",subtitle:r.a.createElement(Na,{to:Ua.login.path},"Go to login page")}),errorContent:r.a.createElement(Da,{title:"This link is either invalid or has already expired",subtitle:r.a.createElement(r.a.Fragment,null,"Please visit"," ",r.a.createElement(Na,{to:Ua.login.path},"Login Page")," ","to generate a new link to verify the device/location")})})},exact:!0}},za=Object.values(Ua),Ga=a(570),Ha=a(571),Ya=a(150),_a=a(262),Ja=a.n(_a),Qa=Object(k.a)((function(e){return Object(S.a)({loggedInAs:{marginRight:e.spacing(1)},username:{fontWeight:e.typography.fontWeightBold}})})),Ka=function(e){var t=e.anchorElement,a=e.onCloseMenu,n=Qa(),c=Object(j.a)(),o=Object(l.a)(c,2),i=o[0],u=i.user,s=i.loggedIn,m=o[1].logout;if(!s)return null;var f=u&&u.username;return r.a.createElement(Ve.a,{keepMounted:!0,id:"account-menu",anchorEl:t,getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},open:Boolean(t),onClose:a},r.a.createElement(qe.a,{component:E.c,to:Ua.account.path},r.a.createElement(y.a,{className:n.loggedInAs},"Logged in as:"),r.a.createElement(y.a,{className:n.username,noWrap:!0},f||"-")),r.a.createElement(Vt.a,null),r.a.createElement(qe.a,{onClick:m},"Logout"))},Xa=function(){var e=Object(j.a)(),t=Object(l.a)(e,3),a=t[0],n=(t[1],t[2].loading),c=r.a.useState(null),o=Object(l.a)(c,2),i=o[0],u=o[1];return n||!a.loggedIn?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{onClick:function(e){console.log("click"),u(e.currentTarget)}},r.a.createElement(Ja.a,{fontSize:"large"})),r.a.createElement(Ka,{anchorElement:i,onCloseMenu:function(){console.log("close"),u(null)}}))},Za=function(e){return r.a.createElement(De.a,Object.assign({component:E.c},e))},$a=function(){var e=Object(j.a)(),t=Object(l.a)(e,3),a=t[0],n=(t[1],t[2].loading);return a.loggedIn||n?null:r.a.createElement(r.a.Fragment,null,r.a.createElement(Za,{to:Ua.login.path,variant:"text"},"Login"),r.a.createElement(Za,{to:Ua.register.path,variant:"outlined"},"Register"))},en=a(264),tn=a.n(en),an=a(263),nn=a.n(an),rn=function(){var e=f(),t=Object(l.a)(e,2),a=t[0],n=t[1].setActiveTheme,c="dark"===a,o=c?nn.a:tn.a;return r.a.createElement(ve.a,{title:"Toggle light/dark theme"},r.a.createElement(Ee.a,{onClick:function(){if(c)return n("light");n("dark")}},r.a.createElement(o,{fontSize:"large"})))},cn={color:"inherit",textDecoration:"none","&:hover":{color:"inherit",textDecoration:"none"},outline:0},on=Object(k.a)((function(e){return Object(S.a)({root:{flexGrow:1,"& .MuiSvgIcon-root":{fill:e.palette.primary.contrastText}},title:Object(_.a)(Object(_.a)({flexGrow:1},cn),{},{"&:hover":Object(_.a)(Object(_.a)({},cn["&:hover"]),{},{color:Ya.a[400]}),transition:"color 0.5s ease-in"}),noLink:cn})})),un=function(){var e=on();return r.a.createElement(Ga.a,{className:e.root},r.a.createElement(Ha.a,null,r.a.createElement(y.a,{variant:"h6",className:e.title,component:E.c,to:Ua.home.path},"Personal Archive"),r.a.createElement(rn,null),r.a.createElement($a,null),r.a.createElement(Xa,null)))},ln=function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(un,null),r.a.createElement(Ha.a,null),t)},sn=Object(k.a)((function(e){return Object(S.a)({root:{height:"100%",padding:e.spacing(8)}})})),mn=function(){var e=sn();return r.a.createElement(O.a,{container:!0,direction:"column",justify:"center",className:e.root},r.a.createElement(y.a,{variant:"h1"},"Error"),r.a.createElement(y.a,{paragraph:!0},"We could not find the page you were looking for"),r.a.createElement(ce,{to:Ua.home.path},"Go back home"))},fn=function(){var e=Object(j.a)({autoFetch:!0})[2],t=e.loading;return e.uninitiated||t?r.a.createElement(P,null):r.a.createElement(E.a,null,r.a.createElement(ln,null,r.a.createElement(v.d,null,za.map((function(e){return r.a.createElement(v.b,Object.assign({},e,{key:e.path}))})),r.a.createElement(v.b,{path:"*",component:mn}))))},dn=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h.a,{titleTemplate:"%s | Personal Archive",defaultTitle:"Personal Archive"}),r.a.createElement(fn,null))};o.a.render(r.a.createElement(i.a,{store:u.a},r.a.createElement(b,null,r.a.createElement(p.a,null,r.a.createElement(g.a,null),r.a.createElement(dn,null)))),document.getElementById("root"))},53:function(e,t,a){"use strict";var n=a(35);a.d(t,"a",(function(){return n}));var r=a(78);a.d(t,"b",(function(){return r}));a(132)},55:function(e,t,a){"use strict";a.d(t,"b",(function(){return y}));var n=a(15),r=a(578),c=a(241),o=a.n(c),i=a(23),u=Object(n.d)({name:"account-slice",initialState:{account:{loggedIn:!1}},reducers:{},extraReducers:function(e){e.addCase(i.h.fulfilled,(function(e,t){e.account=t.payload}))}}).reducer,l=(o.a,a(100)),s=a(40),m=Object(n.d)({name:"posts-slice",initialState:l.a.getInitialState(),reducers:{},extraReducers:function(e){e.addCase(s.d.fulfilled,l.a.setAll),e.addCase(s.b.fulfilled,l.a.removeOne)}}).reducer,f=a(243),d=(a.n(f).a,a(92)),b=a(119),p=a(182),g=function(e,t){return e.fulfilled.match(t)},h=[function(e){return function(t){return function(a){var n,r=[i.e,i.f,i.a,i.c,i.d,i.b,i.g];(n=a,r.some((function(e){return g(e,n)})))&&e.dispatch(Object(i.h)()),t(a)}}}],E=[function(e){var t=e.dispatch;return function(e){return function(a){d.b.match(a)&&t(Object(s.d)(a.payload)),e(a)}}}],v=[].concat(Object(p.a)(h),Object(p.a)(E)),j=a(31),O=Object(n.a)({reducer:{account:u,posts:m,filter:d.a,theme:b.c,form:r.a},middleware:Object(n.e)({serializableCheck:!1}).concat(v)}),y=function(){return Object(j.c)()},k=O;t.a=k},67:function(e,t,a){"use strict";var n=a(16),r=a(0),c=a.n(r),o=a(269),i=a(491),u=a(490),l=a(501),s=Object(u.a)((function(e){return Object(l.a)({stateIcon:{marginRight:e.spacing(1.5),verticalAlign:"middle"}})}));t.a=function(e){var t=e.loading,a=void 0!==t&&t,r=e.children,u=Object(n.a)(e,["loading","children"]),l=s();return c.a.createElement(o.a,Object.assign({},u,{disabled:a}),a&&c.a.createElement(i.a,{thickness:8,size:14,className:l.stateIcon}),r)}},68:function(e,t,a){"use strict";var n=a(6),r=a(0),c=a(83);t.a=function(e){var t=e.successSnackbarMessage,a=e.failureSnackbarMessage,o=Object(r.useState)({status:"initial"}),i=Object(n.a)(o,2),u=i[0],l=i[1],s=Object(r.useState)(!1),m=Object(n.a)(s,2),f=m[0],d=m[1],b=Object(c.b)().enqueueSnackbar;return Object(r.useEffect)((function(){f||("submit-success"===u.status&&(b(t,{variant:"success"}),d(!0)),"submit-fail"===u.status&&(b(a,{variant:"error"}),d(!0)))}),[f,u,l,b,t,a]),[u,{resetFormState:function(){return l({status:"initial",meta:void 0,error:void 0})},setFormSubmitSuccess:function(e){return l({status:"submit-success",meta:e})},setFormSubmitFail:function(e){return l({status:"submit-fail",error:e})},setFormSubmitting:function(){return l({status:"submitting"})}}]}},78:function(e,t,a){"use strict";a.r(t);var n=a(198);a.d(t,"getPosts",(function(){return n.b})),a.d(t,"getPostById",(function(){return n.a}));var r=a(199);a.d(t,"createPost",(function(){return r.a}));var c=a(200);a.d(t,"deletePost",(function(){return c.a}));var o=a(201);a.d(t,"editPost",(function(){return o.a}));var i=a(202);for(var u in i)["getPosts","getPostById","createPost","deletePost","editPost","default"].indexOf(u)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(u)},82:function(e,t,a){"use strict";var n=a(268),r=a(223);a.d(t,"validator",(function(){return r.a}));a(236);t.default=n.a},88:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){return{id:e._id,title:e.title,userId:e.userId,link:e.link,comment:e.comment,tags:e.tags,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)}}},92:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return o}));var n=a(15),r=Object(n.d)({name:"post-filters",initialState:{sort:"title",order:"asc",tags:[]},reducers:{setFilter:function(e,t){return t.payload}}}),c=r.actions.setFilter,o=r.reducer;r.actions},93:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){return e.filter}},99:function(e,t,a){"use strict";var n=a(16),r=a(0),c=a.n(r),o=a(67);t.a=function(e){var t=e.children,a=e.formState,r=e.formId,i=Object(n.a)(e,["children","formState","formId"]);return c.a.createElement(o.a,Object.assign({form:r,type:"submit",loading:"submitting"===a},i),t)}}},[[286,1,2]]]);
//# sourceMappingURL=main.c270e41b.chunk.js.map